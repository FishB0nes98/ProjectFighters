<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Loading Screen</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .menu {
            position: top;
            top: 0;
            width: 100%;
            background-color: #444;
            overflow: hidden;
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .menu .menu-items {
            display: flex;
        }
        .menu a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            transition: background-color 0.3s, transform 0.3s;
        }
        .menu a:hover {
            background-color: #111;
            transform: scale(1.1);
        }
        .play-button {
            background-color: orange;
            color: black;
            border-radius: 20px;
            padding: 14px 30px;
            font-size: 18px;
            font-weight: bold;
            text-decoration: none;
            transition: background-color 0.3s, transform 0.3s, color 0.3s;
            margin-right: 960px;
        }
        .play-button:hover {
            background-color: darkgoldenrod;
            color: white;
            transform: scale(1.2);
        }
        .play-button {
            background-color: orange;
            color: black;
            border-radius: 20px;
            padding: 14px 30px;
            font-size: 18px;
            font-weight: bold;
            text-decoration: none;
            transition: background-color 0.3s, transform 0.3s, color 0.3s;
            margin-right: 960px;
        }
        .play-button:hover {
            background-color: darkgoldenrod;
            color: white;
            transform: scale(1.2);
        }
        #loading-screen-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1600px;
            margin-top: 20px;
        }
        .team-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 10px 0;
        }
        .player-slot {
            width: 250px;
            height: 375px;
            margin: 0 10px;
            background-color: #222;
            border: 2px solid #444;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }
        .player-slot img {
            width: 100%;
            height: auto;
        }
        .skin-dropdown {
            width: 100%;
            position: absolute;
            bottom: 0;
        }
        .skin-name {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 16px;
            text-shadow: 1px 1px 2px black;
            padding: 5px 0;
            display: none;
        }
        #vs-text {
            color: red;
            font-size: 25px;
            font-weight: bold;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="menu">
        <div class="menu-items">
            <a href="index.html">Home</a>
            <a href="Skins.html">Skins</a>
            <a href="event.html">Event</a>
            <a href="Team Builder.html">Team Builder</a>
        </div>
        <a href="Game Modes.html" class="play-button">Play</a>
    </div>
    <div id="loading-screen-container">
        <div class="team-container" id="team1">
            <div class="player-slot" id="team1-player1">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team1-player2">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team1-player3">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team1-player4">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team1-player5">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
        </div>

        <div id="vs-text">VS</div>

        <div class="team-container" id="team2">
            <div class="player-slot" id="team2-player1">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team2-player2">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team2-player3">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team2-player4">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
            <div class="player-slot" id="team2-player5">
                <img src="" alt="">
                <div class="skin-name"></div>
            </div>
        </div>
    </div>

    <!-- Hidden dropdown template -->
    <select id="skin-dropdown-template" class="skin-dropdown" style="display:none;">
        <option value="">Select Skin</option>
    </select>

    <script>
        const characters = [
            { name: 'Akuma', skins: ['Akuma.png', 'Rockstar Akuma.png', 'Thunder God Akuma.png'] },
            { name: 'Angel', skins: ['Angel.png', 'Voidborn Angel.png', 'Blossom Angel.png'] },
            { name: 'Astaroth', skins: ['Astaroth.png', 'Royal Guard Astaroth.png', 'Sand Soldier Astaroth.png'] },
            { name: 'Birdie', skins: ['Birdie.png', 'Rockstar Birdie.png', 'Sand Soldier Birdie.png'] },
            { name: 'Blanka', skins: ['Blanka.png', 'Enraged Blanka.png'] },
            { name: 'Cham Cham', skins: ['Cham Cham.png', 'Blossom Cham Cham.png'] },
            { name: 'Elphelt', skins: ['Elphelt.png', 'Cyber Hunter Elphelt.png', 'Maid Elphelt.png'] },
            { name: 'Erron Black', skins: ['Erron Black.png', 'Country Erron Black.png', 'Mafia Leader Erron Black.png'] },
            { name: 'Ibuki', skins: ['Ibuki.png', 'Demon Hunter Ibuki.png', 'DJ Ibuki.png', 'Red Stone Ibuki.png'] },
            { name: 'Julia', skins: ['Julia.png', 'Disco Queen Julia.png', 'River Spirit Julia.png'] },
            { name: 'Jun', skins: ['Jun.png', 'Blossom Jun.png'] },
            { name: 'Kotal Kahn', skins: ['Kotal Kahn.png', 'Cyber Warrior Kotal Kahn.png', 'Demon Lord Kotal Kahn.png'] },
            { name: 'Morrigan', skins: ['Morrigan.png', 'Neon Morrigan.png'] },
            { name: 'Noel', skins: ['Noel.png', 'Officer Noel.png'] },
            { name: 'Peacock', skins: ['Peacock.png', 'Cyber Bomber Peacock.png'] },
            { name: 'R.Mika', skins: ['R.Mika.png', 'Phoenix R.Mika.png', 'Pop Star R.Mika.png'] },
            { name: 'Raiden', skins: ['Raiden.png', 'Master of Monks Raiden.png'] },
            { name: 'Reptile', skins: ['Reptile.png', 'Blood Predator Reptile.png', 'Cyber Ninja Reptile.png', 'Sand Soldier Reptile.png'] },
            { name: 'Scorpion', skins: ['Scorpion.png', 'Blossom Scorpion.png', 'Spider Scorpion.png'] },
            { name: 'Talim', skins: ['Talim.png', 'Sand Soldier Talim.png', 'Vampire Talim.png'] },
            { name: 'Yugo', skins: ['Yugo.png', 'Cyber Predator Yugo.png', 'Street Fighter Yugo.png'] },
            // Add more characters and skins as necessary
        ];

        function getRandomCharacter(characters, assignedCharacters) {
            let character;
            do {
                character = characters[Math.floor(Math.random() * characters.length)];
            } while (assignedCharacters.includes(character.name));
            assignedCharacters.push(character.name);
            return character;
        }

        function createSkinOptions(skins) {
            const fragment = document.createDocumentFragment();
            skins.forEach(skin => {
                const option = document.createElement('option');
                option.value = skin;
                option.textContent = skin.split('.png')[0];
                fragment.appendChild(option);
            });
            return fragment;
        }

        function updateSkin(dropdown, playerImg, skinNameDiv) {
            const selectedSkin = dropdown.value;
            if (selectedSkin) {
                playerImg.src = `Loading Screen/${selectedSkin}`;
                skinNameDiv.innerText = dropdown.options[dropdown.selectedIndex].text;
                skinNameDiv.style.display = 'block';
                dropdown.style.display = 'none';
            } else {
                playerImg.src = '';
                skinNameDiv.style.display = 'none';
                dropdown.style.display = 'block';
            }
        }

        window.onload = function() {
            const dropdownTemplate = document.getElementById('skin-dropdown-template');
            const teams = [document.getElementById('team1'), document.getElementById('team2')];
            let assignedCharacters = [];

            teams.forEach(team => {
                Array.from(team.children).forEach(playerSlot => {
                    const playerImg = playerSlot.querySelector('img');
                    const skinNameDiv = playerSlot.querySelector('.skin-name');
                    const dropdownClone = dropdownTemplate.cloneNode(true);
                    dropdownClone.style.display = 'block';

                    // Assign a unique character to each player slot
                    const character = getRandomCharacter(characters, assignedCharacters);
                    dropdownClone.appendChild(createSkinOptions(character.skins));

                    dropdownClone.onchange = () => updateSkin(dropdownClone, playerImg, skinNameDiv);
                    playerSlot.appendChild(dropdownClone);
                });
            });
        };
    </script>
</body>
</html>
