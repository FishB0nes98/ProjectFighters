<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loading Screen</title>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js" type="module"></script>
    <script nomodule>
        document.write('<script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js"><\/script>');
        document.write('<script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js"><\/script>');
        document.write('<script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js"><\/script>');
    </script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js';
        import { getDatabase, ref, get, update } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js';
        import { quests } from './quests.js';
        import { roles } from './roles.js';

        const firebaseConfig = {
            apiKey: "AIzaSyCqhxq6sPDU3EmuvvkBIIDJ-H6PsBc42Jg",
            authDomain: "project-fighters-by-fishb0nes.firebaseapp.com",
            databaseURL: "https://project-fighters-by-fishb0nes-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "project-fighters-by-fishb0nes",
            storageBucket: "project-fighters-by-fishb0nes.appspot.com",
            messagingSenderId: "867339299995",
            appId: "1:867339299995:web:99c379940014b9c05cea3e",
            measurementId: "G-LNEM6HR842"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const database = getDatabase(app);

        const characters = {
			'Akuma': ['Akuma', 'Rockstar Akuma', 'Thunder God Akuma', 'Captain Akuma', 'High Elf Akuma'],
			'Angel': ['Angel', 'Blossom Angel', 'Voidborn Angel', 'Neon Core Angel', 'Forest Goddess Angel'],
			'Astaroth': ['Forest Behemoth Astaroth', 'Forest Behemoth Astaroth Gilded', 'Forest Behemoth Astaroth Opulent', 'Forest Behemoth Astaroth Rosy', 'Forest Behemoth Astaroth Ashen', 'Astaroth', 'Arctic Monster Astaroth', 'Royal Guard Astaroth', 'Sand Soldier Astaroth', 'Infernal Astaroth'],
			'Ayane': ['Ayane', 'Obsidian Wraith Ayane', 'Schoolgirl Ayane'],
			'Birdie': ['Birdie', 'Professional Weightlifter Birdie', 'Rockstar Birdie', 'Sand Soldier Birdie', 'Infernal Birdie'],
			'Blanka': ['Blanka', 'Blanka Red', 'Professional Baller Blanka', 'Pajama Party Blanka'],
			'Cham Cham': ['Cham Cham', 'Blossom Cham Cham', 'Cham Cham Monochrome', 'Neon Core Cham Cham', 'Pajama Party Cham Cham', 'Pajama Party Cham Cham Cotton Candy', 'Pajama Party Cham Cham Aqua Dream', 'Pajama Party Cham Cham Berry Burst', 'Pajama Party Cham Cham Peachy Keen'],
			'Elphelt': ['Elphelt', 'Cyber Hunter Elphelt', 'Maid Elphelt', 'Summertime Elphelt', 'Schoolgirl Elphelt', 'Goth Elphelt', 'Goth Elphelt Golden', 'Goth Elphelt Crimson Noir', 'Goth Elphelt Midnight Azure', 'Goth Elphelt White'],
			'Erron Black': ['Erron Black', 'Arctic Hunter Erron Black', 'Country Erron Black', 'Mafia Leader Erron Black', 'Neon Core Erron Black'],
			'Ibuki': ['Ibuki', 'Cyber Ninja Ibuki', 'Demon Hunter Ibuki', 'DJ Ibuki', 'Professional Athlete Ibuki', 'Infernal Ibuki', 'Infernal Ibuki Greenfire', 'Infernal Ibuki Silver Flame', 'Infernal Ibuki Golden Flame', 'Infernal Ibuki Blue Flame', 'Lady Deadpool Ibuki'],
			'Juri': ['Primal Warrior Juri','Juri', 'Casual Wear Juri'],
			'Julia': ['Julia', 'Disco Queen Julia', 'Dragon Tamer Julia', 'River Spirit Julia', 'Infernal Julia', 'Schoolgirl Julia', 'River Spirit Julia Golden'],
			'Jun': ['Jun', 'Blossom Jun', 'Dragon Tamer Jun', 'Summertime Jun', 'High Elf Jun'],
			'Kotal Kahn': ['Primal Warrior Kotal Kahn', 'Kotal Kahn', 'Cyber Warrior Kotal Kahn', 'Demon Lord Kotal Kahn', 'Summertime Kotal Kahn', 'Forest Warden Kotal Kahn'],
			'Morrigan': ['Morrigan', 'Dragon Tamer Morrigan', 'Neon Core Morrigan', 'High Elf Morrigan', 'High Elf Morrigan Jade', 'High Elf Morrigan Ghost', 'High Elf Morrigan Darkness', 'High Elf Morrigan Silver Crimson', 'Forest Guardian Morrigan'],
			'Nina': ['Nina', 'Arctic Huntress Nina', 'Farmer Nina', 'Summertime Nina'],
			'Noel': ['Arcade Noel', 'Noel', 'Arctic Huntress Noel', 'Officer Noel', 'Captain Noel', 'High Elf Noel'],
			'Peacock': ['Peacock', 'Arctic Huntress Peacock', 'Cyber Bomber Peacock', 'Captain Peacock'],
			'R Mika': ['R Mika', 'Phoenix R Mika', 'Pop Star R Mika', 'Professional Tennis Player R Mika', 'Goth R Mika'],
			'Raiden': ['Arcade Raiden','Raiden', 'Dragon Tamer Raiden', 'Master of Monks Raiden', 'Infernal Raiden', 'Raiden Red', 'Neon Core Raiden', 'Neon Core Raiden Scarlet', 'Neon Core Raiden Emerald', 'Neon Core Raiden Silver', 'Neon Core Raiden White'],
			'Reptile': ['Reptile', 'Blood Predator Reptile', 'Cyber Ninja Reptile', 'Cyber Predator Reptile', 'Summertime Reptile', 'Reptile Sand', 'Goth Reptile'],
			'Scorpion': ['Primal Warrior Scrorpion', 'Scorpion', 'Scorpion Blossom', 'Scorpion Spider', 'Infernal Scorpion', 'Deadpool Scorpion'],
			'Siegfried': ['Siegfried', 'Professional Footballer Siegfried', 'Schoolboy Siegfried', 'Schoolboy Siegfried Azure', 'Schoolboy Siegfried Crimson', 'Schoolboy Siegfried Obisidan Sapphire', 'Schoolboy Siegfried Regal Midnight', 'High Elf Siegfried'],
			'Talim': ['Talim', 'Sand Soldier Talim', 'Talim Bloody', 'Captain Talim', 'Windwood Talim'],
			'Yugo': ['Yugo', 'Arctic Beast Yugo', 'Cyber Predator Yugo', 'Wolverine Yugo'],
			'Shoma': ['Primal Warrior Shoma', 'Shoma', 'Summertime Shoma', 'Pirate Shoma', 'Pirate Shoma Blue', 'Pirate Shoma Jade', 'Pirate Shoma Monochrome', 'Pirate Shoma Violet', 'Shoma Schoolboy', 'Pajama Party Shoma'],
			'Sub Zero': ['Arcade Sub Zero', 'Arcade Sub Zero Abyssal Depths', 'Arcade Sub Zero Frosty Forest', 'Arcade Sub Zero Cybernetic Surge', 'Arcade Sub Zero Galactic Void', 'Arcane Sorcerer Sub Zero', 'Neon Core Sub Zero'],
            'Christie': ['Arcade Christie', 'Christie', 'Chris T', 'Pajama Party Christie'],
            'Kokoro': ['Kokoro', 'Schoolgirl Kokoro', 'Pajama Party Kokoro'],
            'Eagle': ['Eagle', 'High Elf Eagle', 'Goth Eagle'],
            'Sophitia': ['Arcade Sophitia', 'Sophitia', 'Goth Sophitia'],
            'Shizumaru': ['Shizumaru', 'Samurai Shizumaru'],
            'Kagome': ['Primal Huntress Kagome', 'Primal Huntress Kagome Bear', 'Primal Huntress Kagome Tiger', 'Primal Huntress Kagome Leaf', 'Primal Huntress Kagome Leopard', 'Kagome', 'Spectral Archer Kagome'],
            'Kabal': ['Kabal', 'Frosted Kabal'],
            'Kuma': ['Panda', 'Kuma'],
		};
        
        const skinToBaseCharacterMap = {
            'Akuma': 'Akuma',
            'Angel': 'Angel',
            'Arctic Beast Yugo': 'Yugo',
            'Arctic Hunter Erron Black': 'Erron Black',
            'Arctic Huntress Nina': 'Nina',
            'Arctic Huntress Noel': 'Noel',
            'Arctic Huntress Peacock': 'Peacock',
            'Arctic Monster Astaroth': 'Astaroth',
            'Astaroth': 'Astaroth',
            'Ayane': 'Ayane',
            'Birdie': 'Birdie',
            'Blanka': 'Blanka',
            'Blood Predator Reptile': 'Reptile',
            'Blossom Angel': 'Angel',
            'Blossom Cham Cham': 'Cham Cham',
            'Blossom Jun': 'Jun',
            'Scorpion Blossom': 'Scorpion',
            'Cham Cham': 'Cham Cham',
            'Country Erron Black': 'Erron Black',
            'Cyber Bomber Peacock': 'Peacock',
            'Cyber Hunter Elphelt': 'Elphelt',
            'Cyber Ninja Reptile': 'Reptile',
            'Cyber Ninja Ibuki': 'Ibuki',
            'Cyber Predator Yugo': 'Yugo',
            'Cyber Predator Reptile': 'Reptile',
            'Cyber Warrior Kotal Kahn': 'Kotal Kahn',
            'Demon Hunter Ibuki': 'Ibuki',
            'Demon Lord Kotal Kahn': 'Kotal Kahn',
            'Disco Queen Julia': 'Julia',
            'DJ Ibuki': 'Ibuki',
            'Dragon Tamer Julia': 'Julia',
            'Dragon Tamer Jun': 'Jun',
            'Dragon Tamer Morrigan': 'Morrigan',
            'Dragon Tamer Raiden': 'Raiden',
            'Elphelt': 'Elphelt',
            'Blanka Red': 'Blanka',
            'Erron Black': 'Erron Black',
            'Farmer Nina': 'Nina',
            'Ibuki': 'Ibuki',
            'Julia': 'Julia',
            'Jun': 'Jun',
            'Kotal Kahn': 'Kotal Kahn',
            'Mafia Leader Erron Black': 'Erron Black',
            'Maid Elphelt': 'Elphelt',
            'Master of Monks Raiden': 'Raiden',
            'Morrigan': 'Morrigan',
            'Neon Core Morrigan': 'Morrigan',
            'Nina': 'Nina',
            'Noel': 'Noel',
            'Obsidian Wraith Ayane': 'Ayane',
            'Officer Noel': 'Noel',
            'Peacock': 'Peacock',
            'Phoenix R Mika': 'R Mika',
            'Pop Star R Mika': 'R Mika',
            'Professional Athlete Ibuki': 'Ibuki',
            'Professional Weightlifter Birdie': 'Birdie',
            'Professional Baller Blanka': 'Blanka',
            'Professional Footballer Siegfried': 'Siegfried',
            'Professional Tennis Player R Mika': 'R Mika',
            'R Mika': 'R Mika',
            'Raiden': 'Raiden',
            'Ibuki Red': 'Ibuki',
            'Reptile': 'Reptile',
            'River Spirit Julia': 'Julia',
            'Rockstar Akuma': 'Akuma',
            'Rockstar Birdie': 'Birdie',
            'Royal Guard Astaroth': 'Astaroth',
            'Sand Soldier Astaroth': 'Astaroth',
            'Sand Soldier Birdie': 'Birdie',
            'Reptile Sand': 'Reptile',
            'Sand Soldier Talim': 'Talim',
            'Scorpion': 'Scorpion',
            'Siegfried': 'Siegfried',
            'Scorpion Spider': 'Scorpion',
            'Street Fighter Hugo': 'Hugo',
            'Talim': 'Talim',
            'Thunder God Akuma': 'Akuma',
            'Talim Bloody': 'Talim',
            'Voidborn Angel': 'Angel',
            'Yugo': 'Yugo',
            'Summertime Elphelt': 'Elphelt',
            'Summertime Jun': 'Jun',
            'Summertime Kotal Kahn': 'Kotal Kahn',
            'Summertime Nina': 'Nina',
            'Summertime Reptile': 'Reptile',
            'Summertime Shoma': 'Shoma',
            'Shoma': 'Shoma',
            'Juri': 'Juri',
            'Casual Wear Juri': 'Juri',
            'Infernal Raiden': 'Raiden',
            'Infernal Birdie': 'Birdie',
            'Infernal Ibuki': 'Ibuki',
            'Infernal Ibuki Greenfire': 'Ibuki',
            'Infernal Astaroth': 'Astaroth',
            'Infernal Scorpion': 'Scorpion',
            'Cham Cham Monochrome': 'Cham Cham',
            'Raiden Red': 'Raiden',
            'Infernal Ibuki Silver Flame': 'Ibuki',
            'Infernal Ibuki Golden Flame': 'Ibuki',
            'Infernal Ibuki Blue Flame': 'Ibuki',
            'Arcane Sorcerer Sub Zero': 'Sub Zero',
            'Captain Akuma': 'Akuma',
            'Captain Talim': 'Talim',
            'Captain Peacock': 'Peacock',
            'Captain Noel': 'Noel',
            'Pirate Shoma': 'Shoma',
            'Pirate Shoma Jade': 'Shoma',
            'Pirate Shoma Blue': 'Shoma',
            'Pirate Shoma Monochrome': 'Shoma',
            'Pirate Shoma Violet': 'Shoma',
            'Neon Core Angel': 'Angel',
            'Neon Core Cham Cham': 'Cham Cham',
            'Neon Core Erron Black': 'Erron Black',
            'Neon Core Raiden Emerald': 'Raiden',
            'Neon Core Raiden White': 'Raiden',
            'Neon Core Raiden Silver': 'Raiden',
            'Neon Core Raiden Scarlet': 'Raiden',
            'Neon Core Sub Zero': 'Sub Zero',
            'Chris T': 'Christie',
            'Christie': 'Christie',
            'Kokoro': 'Kokoro',
            'Schoolgirl Kokoro': 'Kokoro',
            'Infernal Julia': 'Julia',
            'Schoolgirl Julia': 'Julia',
            'Schoolgirl Elphelt': 'Elphelt',
            'Schoolboy Siegfried': 'Siegfried',
            'Shoma Schoolboy': 'Shoma',
            'Schoolgirl Ayane': 'Ayane',
            'Schoolboy Siegfried Azure': 'Siegfried',
            'Schoolboy Siegfried Crimson': 'Siegfried',
            'Schoolboy Siegfried Obisidan Sapphire': 'Siegfried',
            'Schoolboy Siegfried Regal Midnight': 'Siegfried',
            'High Elf Siegfried': 'Siegfried',
            'High Elf Eagle': 'Eagle',
            'High Elf Morrigan': 'Morrigan',
            'High Elf Morrigan Jade': 'Morrigan',
            'High Elf Morrigan Ghost': 'Morrigan',
            'High Elf Morrigan Darkness': 'Morrigan',
            'High Elf Morrigan Silver Crimson': 'Morrigan',
            'High Elf Noel': 'Noel',
            'High Elf Akuma': 'Akuma',
            'High Elf Jun': 'Jun',
            'Goth Sophitia': 'Sophitia',
            'Goth Elphelt': 'Elphelt',
            'Goth Elphelt Golden': 'Elphelt',
            'Goth Elphelt Crimson Noir': 'Elphelt',
            'Goth Elphelt Midnight Azure': 'Elphelt',
            'Goth Elphelt White': 'Elphelt',
            'Goth Eagle': 'Eagle',
            'Goth Reptile': 'Reptile',
            'Goth R Mika': 'R Mika',
            'Sophitia': 'Sophitia',
            'Deadpool Scorpion': 'Scorpion',
            'Lady Deadpool Ibuki': 'Ibuki',
            'Wolverine Yugo': 'Yugo',
            'Pajama Party Blanka': 'Blanka',
            'Pajama Party Shoma': 'Shoma',
            'Pajama Party Kokoro': 'Kokoro',
            'Pajama Party Cham Cham' : 'Cham Cham',
            'Pajama Party Cham Cham Cotton Candy': 'Cham Cham',
            'Pajama Party Cham Cham Aqua Dream': 'Cham Cham',
            'Pajama Party Cham Cham Berry Burst': 'Cham Cham',
            'Pajama Party Cham Cham Peachy Keen': 'Cham Cham',
            'Pajama Party Christie': 'Christie',
            'Samurai Shizumaru': 'Shizumaru',
            'Shizumaru': 'Shizumaru',
            'Spectral Archer Kagome': 'Kagome',
            'Forest Behemoth Astaroth': 'Astaroth',
            'Forest Behemoth Astaroth Gilded': 'Astaroth',
            'Forest Behemoth Astaroth Opulent': 'Astaroth',
            'Forest Behemoth Astaroth Rosy': 'Astaroth',
            'Forest Behemoth Astaroth Ashen': 'Astaroth',
            'Forest Guardian Morrigan': 'Morrigan',
            'Forest Goddess Angel': 'Angel',
            'Windwood Talim': 'Talim',
            'Forest Warden Kotal Kahn': 'Kotal Kahn',
            'River Spirit Julia Golden': 'Julia',
            'Frosted Kabal': 'Kabal',
            'Kabal': 'Kabal',
            'Arcade Sub Zero Abyssal Depths': 'Sub Zero',
            'Arcade Sub Zero Frosty Forest': 'Sub Zero',
            'Arcade Sub Zero Cybernetic Surge': 'Sub Zero',
            'Arcade Sub Zero Galactic Void': 'Sub Zero',
            'Arcade Sub Zero': 'Sub Zero',
            'Arcade Raiden': 'Raiden',
            'Arcade Sophitia': 'Sophitia',
            'Arcade Christie': 'Christie',
            'Arcade Noel': 'Noel',
            'Primal Huntress Kagome': 'Kagome',
            'Primal Huntress Kagome Bear': 'Kagome',
            'Primal Huntress Kagome Tiger': 'Kagome',
            'Primal Huntress Kagome Leaf': 'Kagome',
            'Primal Huntress Kagome Leopard': 'Kagome',
            'Primal Warrior Shoma': 'Shoma',
            'Primal Warrior Scorpion': 'Scorpion',
            'Primal Warrior Juri': 'Juri',
            'Primal Warrior Kotal Kahn': 'Kotal Kahn',
            'Kuma': 'Kuma',
            'Panda': 'Kuma'
        };

        let charactersWithBanners = {}; // Store characters with their respective banners
        let charactersWithBorders = {}; // Store characters with their respective borders

        window.onload = function() {
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                console.log("User is logged in:", user.uid);
                const userRef = ref(database, 'users/' + user.uid);
                const snapshot = await get(userRef);
                const userData = snapshot.val();
                if (userData) {
                    window.userRef = userRef;

                    if (userData.skins) {
                        populateCharacterButtons(characters);
                    } else {
                        console.log("No skins available.");
                    }
                    await checkCharacterGames(userData.characters);  // Check character games
                } else {
                    console.log("User data not found in database.");
                }
            } else {
                console.log("User is not logged in.");
            }
        });

        document.addEventListener('keydown', (event) => {
    if (event.key === 'P' || event.key === 'p') {
        if (bordersToggleEnabled) {
            toggleBorders();
        } else {
            bordersToggleEnabled = true;
        }
    } else if (event.key === 'O' || event.key === 'o') {
        if (bannersToggleEnabled) {
            toggleBanners();
        } else {
            bannersToggleEnabled = true;
        }
    } else if (event.key === '5') {
        toggleMenuAndPlayButton();
    }
});

let gamepadDebounce = false;

window.addEventListener('gamepadconnected', (event) => {
    const gamepad = navigator.getGamepads()[event.gamepad.index];
    const checkGamepad = () => {
        if (gamepad.buttons[8].pressed) { // Select button on Xbox controller
            if (!gamepadDebounce) {
                toggleMenuAndPlayButton();
                gamepadDebounce = true;
            }
        } else {
            gamepadDebounce = false;
        }
        requestAnimationFrame(checkGamepad);
    };
    checkGamepad();
});

function toggleMenuAndPlayButton() {
    const menu = document.querySelector('.menu');
    const playButtonContainer = document.querySelector('.play-button-container');
    const isVisible = menu.style.display !== 'none';

    menu.style.display = isVisible ? 'none' : 'flex';
    playButtonContainer.style.display = isVisible ? 'none' : 'flex';
}

        document.getElementById('close-modal').addEventListener('click', closeSkinSelectionWindow);


        document.getElementById('decide-game-button').addEventListener('click', async function() {
     this.disabled = true; // Disable the button after it's clicked
     const team1 = [];
     const team2 = [];
 
     for (let i = 1; i <= 5; i++) {
         const team1Player = document.getElementById(`team1-player${i}`);
         const team2Player = document.getElementById(`team2-player${i}`);
 
         // Check if the player slots exist
         if (team1Player) {
             const team1Skin = team1Player.querySelector('.skin-name').textContent;
             if (team1Skin) team1.push(team1Skin);
         } else {
             console.error(`Element with id team1-player${i} not found.`);
         }
 
         if (team2Player) {
             const team2Skin = team2Player.querySelector('.skin-name').textContent;
             if (team2Skin) team2.push(team2Skin);
         } else {
             console.error(`Element with id team2-player${i} not found.`);
         }
     }
 
     // Map skins to base characters
     const team1BaseCharacters = team1.map(skin => skinToBaseCharacterMap[skin] || skin);
     const team2BaseCharacters = team2.map(skin => skinToBaseCharacterMap[skin] || skin);
 
     // Determine the winning team (for example, randomly)
     const winner = Math.random() < 0.5 ? 'team1' : 'team2';
     const loser = winner === 'team1' ? 'team2' : 'team1';
 
     await updateDatabase(team1, team2, winner);
     await rewardPlayer(); // Call the rewardPlayer function here
     await rewardCharacterMoney(); // Call the rewardCharacterMoney function here
     displayResult(winner, loser);
 
     // Update quest progress for playing a game
     await updateQuestProgress('play3games');
 
     // Update quest progress for character-specific quests
     await updateCharacterSpecificQuests(team1BaseCharacters, team2BaseCharacters);
 });

        let bordersVisible = true;
        let bannersVisible = true;
        let bordersToggleEnabled = true;
        let bannersToggleEnabled = true;    

        document.addEventListener('keydown', (event) => {
    if (event.key === 'P' || event.key === 'p') {
        if (bordersToggleEnabled) {
            toggleBorders();
        } else {
            bordersToggleEnabled = true;
        }
    } else if (event.key === 'O' || event.key === 'o') {
        if (bannersToggleEnabled) {
            toggleBanners();
        } else {
            bannersToggleEnabled = true;
        }
    }
});


function closeCharacterSelectionWindow() {
        const modal = document.getElementById('skin-selection-modal');
        modal.style.display = 'none';
    }

    function closeSkinSelectionWindow() {
        const modal = document.getElementById('skin-selection-modal');
        modal.style.display = 'none';
    }

function adjustSkinNameFontSize(skinNameDiv) {
        if (skinNameDiv.textContent.length > 23) {
            skinNameDiv.style.fontSize = '14px';
        } else {
            skinNameDiv.style.fontSize = '16px';
        }
    }

function toggleBorders() {
    const borders = document.querySelectorAll('.silver-border');
    borders.forEach(border => {
        border.style.display = bordersVisible ? 'none' : 'block';
    });
    bordersVisible = !bordersVisible;
    bordersToggleEnabled = false;
}

function toggleBanners() {
    const banners = document.querySelectorAll('.banner');
    banners.forEach(banner => {
        banner.style.display = bannersVisible ? 'none' : 'block';
    });
    bannersVisible = !bannersVisible;
    bannersToggleEnabled = false;
}

window.updateQuestProgress = async function(questId, progressIncrement = 1) {
    const user = auth.currentUser;
    if (user) {
        const userId = user.uid;
        const userRef = ref(database, `users/${userId}/quests/${questId}`);
        const snapshot = await get(userRef);
        const questData = snapshot.val() || { progress: 0, completed: false, claimed: false };
        if (!questData.completed) {
            const newProgress = (questData.progress || 0) + progressIncrement;
            if (newProgress >= quests.find(q => q.id === questId).goal) {
                await update(userRef, { progress: newProgress, completed: true });
                console.log(`Quest ${questId} completed.`);
            } else {
                await update(userRef, { progress: newProgress });
                console.log(`Quest ${questId} progress updated to ${newProgress}.`);
            }
        } else {
            console.log(`Quest ${questId} already completed.`);
        }
    } else {
        console.error('User not authenticated');
    }
};

    function checkCharacterQuestProgress(team) {
        const user = auth.currentUser;
        if (user) {
            const userId = user.uid;
            const userRef = ref(database, `users/${userId}`);
            get(userRef).then(snapshot => {
                const userData = snapshot.val();
                quests.forEach(quest => {
                    if (quest.id === 'winAsSpecificCharacter' && quest.requirement(userData)) {
                        updateQuestProgress(quest.id);
                    }
                });
            });
        } else {
            console.error('User not authenticated');
        }
    }

    

    async function updateCharacterSpecificQuests(team1, team2) {
     const user = auth.currentUser;
     if (!user) {
         console.error('User not authenticated');
         return;
     }
 
     const userId = user.uid;
     const userRef = ref(database, `users/${userId}`);
     const snapshot = await get(userRef);
     const userData = snapshot.val();
 
     if (!userData) {
         console.error('User data not found');
         return;
     }
 
     console.log('Checking quests for team1:', team1);
     console.log('Checking quests for team2:', team2);
 
     for (const quest of quests) {
         console.log(`Checking quest: ${quest.id}`);
         if (quest.requirement(userData, team1) || quest.requirement(userData, team2)) {
             console.log(`Quest ${quest.id} requirement met.`);
             await updateQuestProgress(quest.id);
         } else {
             console.log(`Quest ${quest.id} requirement not met.`);
         }
     }
 }

function populateCharacterButtons(characters) {
        console.log('Populating character buttons with characters:', characters);
        const playerSlots = document.querySelectorAll('.player-slot');
        playerSlots.forEach(slot => {
            const button = slot.querySelector('.choose-fighter-button');
            if (button) {
                button.addEventListener('click', () => openCharacterSelectionWindow(characters, slot));
            } else {
                console.error('Button not found in player slot:', slot);
            }
        });
    }

    function openCharacterSelectionWindow(characters, playerSlot) {
        console.log('Opening character selection window for player slot:', playerSlot);
        console.log('Characters object:', characters);

        const modal = document.getElementById('skin-selection-modal');
        const skinContainer = document.getElementById('skin-container');
        const searchInput = document.getElementById('skin-search');

        skinContainer.innerHTML = ''; // Clear previous characters
        console.log('Cleared previous characters from skin container');
        searchInput.value = ''; // Clear search input
        console.log('Cleared search input');

        // Determine the role based on the player slot ID
        const roleMap = {
            'team1-player1': 'Top',
            'team1-player2': 'Jungle',
            'team1-player3': 'Mid',
            'team1-player4': 'Adc',
            'team1-player5': 'Support',
            'team2-player1': 'Top',
            'team2-player2': 'Jungle',
            'team2-player3': 'Mid',
            'team2-player4': 'Adc',
            'team2-player5': 'Support'
        };
        const role = roleMap[playerSlot.id];

        for (const roleName in roles) {
            if (roleName !== role) continue; // Skip roles that don't match the player's role

            console.log('Processing role:', roleName);
            const roleSection = document.createElement('div');
            roleSection.classList.add('role-section');

            const roleHeader = document.createElement('h3');
            roleHeader.textContent = roleName;
            roleHeader.classList.add('role-header');
            roleSection.appendChild(roleHeader);

            const roleCharacters = document.createElement('div');
            roleCharacters.classList.add('role-characters');
            roleSection.appendChild(roleCharacters);

            for (const character of roles[roleName]) {
                const characterCard = document.createElement('div');
                characterCard.classList.add('character-card');
                characterCard.addEventListener('click', () => {
                    console.log('Character card clicked:', character);
                    const skins = characters[character];
                    console.log('Skins for character:', skins);
                    if (Array.isArray(skins)) {
                        openSkinSelectionWindow(skins, playerSlot, character);
                    } else {
                        console.error('Skins is not an array:', skins);
                    }
                });

                const img = document.createElement('img');
                img.src = `Icons/${character}.png`; // Use Icons/charactername.png for character icons
                img.alt = character;
                img.classList.add('character-image');
                characterCard.appendChild(img);

                const characterName = document.createElement('div');
                characterName.textContent = character;
                characterName.classList.add('character-name');
                characterCard.appendChild(characterName);

                roleCharacters.appendChild(characterCard);
            }

            skinContainer.appendChild(roleSection);
        }

        searchInput.addEventListener('input', (e) => {
            console.log('Search input changed:', e.target.value);
            const filter = e.target.value.toLowerCase();
            const characterCards = skinContainer.getElementsByClassName('character-card');
            Array.from(characterCards).forEach(card => {
                const characterName = card.querySelector('.character-name').textContent.toLowerCase();
                card.style.display = characterName.includes(filter) ? '' : 'none';
                console.log('Character card display set to:', characterName.includes(filter) ? 'block' : 'none', 'for character:', characterName);
            });
        });

        modal.style.display = 'block';
        console.log('Character selection modal displayed');
    }

    async function openSkinSelectionWindow(skins, playerSlot, character) {
        console.log('Opening skin selection window for character:', character, 'and player slot:', playerSlot);
        console.log('Skins:', skins);

        const modal = document.getElementById('skin-selection-modal');
        const skinContainer = document.getElementById('skin-container');
        const searchInput = document.getElementById('skin-search');
        const backButton = document.createElement('button');

        skinContainer.innerHTML = ''; // Clear previous skins
        console.log('Cleared previous skins from skin container');
        searchInput.value = ''; // Clear search input
        console.log('Cleared search input');

        backButton.textContent = 'Back';
        backButton.id = 'back-button';
        backButton.classList.add('back-button');
        backButton.addEventListener('click', () => {
            console.log('Back button clicked');
            openCharacterSelectionWindow(characters, playerSlot);
        });
        skinContainer.appendChild(backButton);
        console.log('Back button added to skin container');

        const user = auth.currentUser;
        if (user) {
            console.log('User authenticated:', user.uid);
            const userId = user.uid;
            const userSkinsRef = ref(database, `users/${userId}/skins`);
            const snapshot = await get(userSkinsRef);
            const ownedSkins = snapshot.val() || {};
            console.log('Owned skins retrieved:', ownedSkins);

            for (const skin of skins) {
                if (ownedSkins.hasOwnProperty(skin)) {
                    console.log('Adding owned skin to skin container:', skin);
                    const skinCard = document.createElement('div');
                    skinCard.classList.add('skin-card');
                    skinCard.addEventListener('click', () => {
                        console.log('Skin card clicked:', skin);
                        selectSkin(playerSlot, skin);
                    });

                    const img = document.createElement('img');
                    img.src = `Loading Screen/${skin}.png`; // Assuming all skins are .png
                    img.alt = skin;
                    img.classList.add('skin-image');
                    skinCard.appendChild(img);
                    console.log('Skin image added:', img.src);

                    const skinName = document.createElement('div');
                    skinName.textContent = skin;
                    skinName.classList.add('skin-name');
                    skinCard.appendChild(skinName);
                    console.log('Skin name added:', skin);

                    skinContainer.appendChild(skinCard);
                    console.log('Skin card added to skin container');
                } else {
                    console.log('Skin not owned:', skin);
                }
            }

            searchInput.addEventListener('input', (e) => {
                console.log('Search input changed:', e.target.value);
                const filter = e.target.value.toLowerCase();
                const skinCards = skinContainer.getElementsByClassName('skin-card');
                Array.from(skinCards).forEach(card => {
                    const skinName = card.querySelector('.skin-name').textContent.toLowerCase();
                    card.style.display = skinName.includes(filter) ? '' : 'none';
                    console.log('Skin card display set to:', skinName.includes(filter) ? 'block' : 'none', 'for skin:', skinName);
                });
            });

            // Display the modal only after skins are loaded
            modal.style.display = 'block';
            console.log('Skin selection modal displayed');
        } else {
            console.error('User not authenticated');
        }
    }

		// JavaScript code to ensure the silver border is added correctly
        function showBorder(playerSlot, borderClass) {
    let border = playerSlot.querySelector(`.${borderClass}`);
    if (!border) {
        border = document.createElement('img');
        border.src = `res/img/${borderClass}.png`; // Ensure the path to the border image is correct
        border.className = borderClass;
        playerSlot.appendChild(border);
    }
    border.style.display = 'block';
}

function selectSkin(playerSlot, skin) {
    const img = playerSlot.querySelector('img');
    const skinNameDiv = playerSlot.querySelector('.skin-name');

    loadImage(img, `Loading Screen/${skin}`);
    skinNameDiv.textContent = skin;
    skinNameDiv.style.display = 'block';

    adjustSkinNameFontSize(skinNameDiv); // Adjust font size based on length

    playerSlot.querySelector('.choose-fighter-button').style.display = 'none'; // Hide the button

    const baseCharacter = skinToBaseCharacterMap[skin] || skin;

    if (charactersWithBorders[baseCharacter]) {
        showBorder(playerSlot, charactersWithBorders[baseCharacter]);
    }

    if (charactersWithBanners[baseCharacter]) {
        showBanner(playerSlot, charactersWithBanners[baseCharacter]);
    }

    closeSkinSelectionWindow();
    checkAllSkinsSelected();
}

        function loadImage(imgElement, basePath) {
            const extensions = ['.png'];
            let found = false;
            for (const ext of extensions) {
                const img = new Image();
                img.src = basePath + ext;
                img.onload = () => {
                    if (!found) {
                        imgElement.src = img.src;
                        found = true;
                    }
                };
                img.onerror = () => {
                    if (!found) {
                        imgElement.src = ''; // Clear src if not found
                    }
                };
            }
        }

        function checkAllSkinsSelected() {
            const buttons = document.querySelectorAll('.choose-fighter-button');
            let allSelected = true;
            buttons.forEach(button => {
                if (button.style.display !== 'none') {
                    allSelected = false;
                }
            });

            document.getElementById('decide-game-container').style.display = allSelected ? 'block' : 'none';
        }

        async function updateDatabase(team1, team2, winner) {
            const updates = {};
            const userId = auth.currentUser.uid;

            for (const skin of team1) {
                const baseCharacter = skinToBaseCharacterMap[skin] || skin;
                const characterRef = ref(database, `characters/${baseCharacter}`);
                const userCharacterRef = ref(database, `users/${userId}/characters/${baseCharacter}`);

                const charSnapshot = await get(characterRef);
                const userCharSnapshot = await get(userCharacterRef);

                const charData = charSnapshot.val() || { win: 0, lose: 0 };
                const userCharData = userCharSnapshot.val() || { win: 0, lose: 0 };

                if (winner === 'team1') {
                    charData.win += 1;
                    userCharData.win += 1;
                } else {
                    charData.lose += 1;
                    userCharData.lose += 1;
                }

                updates[`characters/${baseCharacter}`] = charData;
                updates[`users/${userId}/characters/${baseCharacter}`] = userCharData;
            }

            for (const skin of team2) {
                const baseCharacter = skinToBaseCharacterMap[skin] || skin;
                const characterRef = ref(database, `characters/${baseCharacter}`);
                const userCharacterRef = ref(database, `users/${userId}/characters/${baseCharacter}`);

                const charSnapshot = await get(characterRef);

                const charData = charSnapshot.val() || { win: 0, lose: 0 };
                const userCharData = (await get(userCharacterRef)).val() || { win: 0, lose: 0 };

                if (winner === 'team2') {
                    charData.win += 1;
                    userCharData.win += 1;
                } else {
                    charData.lose += 1;
                    userCharData.lose += 1;
                }

                updates[`characters/${baseCharacter}`] = charData;
                updates[`users/${userId}/characters/${baseCharacter}`] = userCharData;
            }

            await update(ref(database), updates);
        }

        async function rewardPlayer() {
            const userId = auth.currentUser.uid;
            const userRef = ref(database, `users/${userId}`);
            const snapshot = await get(userRef);
            const userData = snapshot.val();

            if (userData) {
                const exp = userData.BattlePassExp || 0;
                const reward = Math.floor(Math.random() * 16) + 30; // Random number between 30 and 45
                const newExp = exp + reward;

                console.log('Current Exp:', exp);
                console.log('Reward:', reward);
                console.log('New Exp:', newExp);

                await update(userRef, { BattlePassExp: newExp });
                console.log('BattlePassExp updated successfully.');
            }
        }

        window.updateQuestProgress = async function(questId) {
        const user = auth.currentUser;
        if (user) {
            const userId = user.uid;
            const userRef = ref(database, `users/${userId}/quests/${questId}`);
            const snapshot = await get(userRef);
            const questData = snapshot.val();
            if (questData && !questData.completed) {
                const newProgress = (questData.progress || 0) + 1;
                if (newProgress >= quests.find(q => q.id === questId).goal) {
                    await update(userRef, { progress: newProgress, completed: true });
                } else {
                    await update(userRef, { progress: newProgress });
                }
            }
        } else {
            console.error('User not authenticated');
        }
    }};

        async function rewardCharacterMoney() {
            try {
                const userId = auth.currentUser.uid;
                const userRef = ref(database, `users/${userId}`);
                const snapshot = await get(userRef);
                const userData = snapshot.val();

                if (userData) {
                    const currentCM = userData.CM || 0;
                    const reward = Math.floor(Math.random() * 181) + 300; // Random number between 300 and 480
                    const newCM = currentCM + reward;

                    console.log('Current CM:', currentCM);
                    console.log('Reward:', reward);
                    console.log('New CM:', newCM);

                    await update(userRef, { CM: newCM });
                    console.log('CM updated successfully.');
                }
            } catch (error) {
                console.error('Error updating CM:', error);
            }
        }

        function displayResult(winner, loser) {
            const resultContainer = document.getElementById('game-result');
            resultContainer.innerHTML = `Winner: ${winner}<br>Loser: ${loser}`;
            resultContainer.style.display = 'block';
        }

        // New function to check character games
        async function checkCharacterGames(characters) {
    if (!characters) return;

    for (const character in characters) {
        const charData = characters[character];
        const totalGames = (charData.win || 0) + (charData.lose || 0);
        if (totalGames >= 10) {
            const winRate = (charData.win / totalGames) * 100;
            if (winRate <= 35) {
                charactersWithBorders[character] = 'silver-border';
            } else if (winRate <= 50) {
                charactersWithBorders[character] = 'gold-border';
            } else if (winRate <= 60) {
                charactersWithBorders[character] = 'emerald-border';
            } else if (winRate <= 75) {
                charactersWithBorders[character] = 'diamond-border';
            } else {
                charactersWithBorders[character] = 'challenger-border';
            }

            // Assign banners based on the number of wins
            if (charData.win >= 100) {
                charactersWithBanners[character] = 'banner4';
            } else if (charData.win >= 55) {
                charactersWithBanners[character] = 'banner3';
            } else if (charData.win >= 30) {
                charactersWithBanners[character] = 'banner2';
            } else if (charData.win >= 15) {
                charactersWithBanners[character] = 'banner1';
            }
        }
    }
}

function showBanner(playerSlot, bannerClass) {
    let banner = playerSlot.querySelector(`.${bannerClass}`);
    if (!banner) {
        banner = document.createElement('img');
        banner.src = `res/img/${bannerClass}.png`; // Ensure the path to the banner image is correct
        banner.className = bannerClass;
        playerSlot.appendChild(banner);
    }
    banner.style.display = 'block';
}
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: url('res/img/ls.jpeg') no-repeat center center fixed;
            background-size: cover;
            position: relative;
            color: white;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* Transparent Menu */
        .menu {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px 20px;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 0;
    }

    .menu-items {
        display: flex;
        justify-content: center;
        position: relative;
    }

    .menu a {
        color: white;
        text-decoration: none;
        padding: 14px 16px;
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        transition: background-color 0.3s, transform 0.3s;
    }

    .menu a:hover {
        background-color: #111;
        transform: scale(1.1);
    }

    .play-button-container {
    display: flex;
    justify-content: flex-start;
    padding: 20px;
    z-index: auto;
}

    .play-button {
        background-color: #ffbb00; /* Modern blue color */
        color: white;
        border: none;
        border-radius: 25px; /* Slightly less rounded corners for a modern look */
        font-size: 22px; /* Slightly larger font size */
        font-weight: bold;
        text-decoration: none;
        padding: 15px 40px; /* Increased padding for a more prominent button */
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* More pronounced shadow for a modern effect */
        z-index: 1; /* Ensure it is above other elements */
        position: absolute;
        top: 5px;
        left: 0px;
    }

    .play-button:hover {
        background-color: #ff8800;  /* Slightly darker blue on hover */
        transform: scale(1.05); /* Slightly enlarge the button on hover */
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4); /* More pronounced shadow on hover */
    }


        .battlepass-button {
            background-color: red; /* Gold background */
            color: #000; /* Black text */
            border-radius: 25px; /* Rounded corners */
            font-size: 12px;
            text-transform: uppercase; /* Uppercase text */
            margin-right: 300px;
        }

        #loading-screen-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1600px;
            margin-top: 20px;
        }

        .team-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin-top: 55px;
        }

        .team-container2 {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin-bottom: 25px;
        }

        .player-slot {
            width: 325px;
            height: 450px;
            margin: 0 20px;
            background-color: black;
            border: 0px solid #444;
            border-radius: 20px;
            overflow: visible;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            box-shadow: 0 0 40px 20px rgba(0, 0, 0, 0.5); /* Big shadow all over the player-slot */
        }

        .player-slot img {
			width: 100%;
			height: auto;
			display: block;
		}
        .choose-fighter-button {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #444;
        color: white;
        text-align: center;
        padding: 10px;
        cursor: pointer;
        z-index: 0; /* Ensure it stays above other elements */
        border-radius: 5%; /* Rounded corners */
    }


        .skin-name {
            position: absolute;
            bottom: 7px;
            width: 100%;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 16px;
            text-shadow: 1px 1px 2px black;
            padding: 5px 0;
            display: none;
        }

        #vs-text {
            color: red;
            font-size: 25px;
            font-weight: bold;
            margin: 20px 0;
        }

        #decide-game-container {
            margin-top: 20px;
        }

        #result-container {
            margin-top: 20px;
            display: none;
        }

        #skin-selection-modal {
        display: none; /* Initially hidden */
        position: fixed; /* Fixed positioning to stay in viewport */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent background */
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    #skin-selection-content {
        width: 60%;
        max-height: 600px;
        background-color: #2c2f33;
        border-radius: 15px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        overflow: hidden;
        padding: 20px;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        border: 2px solid #444;
        transition: transform 0.3s ease-in-out;
        transform: translateY(0);
        left: 20%;
        top: 12%;
    }

    #skin-search {
        width: 90%;
        padding: 10px;
        margin-bottom: 20px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .skin-image {
        width: 150px; /* Adjusted size to be smaller while maintaining aspect ratio */
        height: auto; /* Maintain aspect ratio */
        margin: 10px;
        cursor: pointer;
        transition: transform 0.3s, box-shadow 0.3s;
        border-radius: 10px; /* Rounded corners for a modern look */
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .skin-image:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .skin-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 10px;
        padding: 10px;
        background-color: #444;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s, box-shadow 0.3s;
        cursor: pointer; /* Make the entire card clickable */
    }

    .skin-card:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .skin-name {
        font-size: 16px;
        color: white;
        text-align: center;
        margin-top: 10px;
    }

    .back-button {
        background-color: #ffbb00;
        color: white;
        border: none;
        border-radius: 25px;
        font-size: 18px;
        font-weight: bold;
        padding: 10px 20px;
        margin-bottom: 20px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .back-button:hover {
        background-color: #ff8800;
        transform: scale(1.05);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
    }

    #close-modal {
        position: absolute;
        top: 15px;
        right: 20px;
        color: white;
        font-size: 30px;
        cursor: pointer;
        background: none;
        border: none;
        outline: none;
        transition: color 0.3s;
    }

    #close-modal:hover {
        color: #ff4444;
    }

    #skin-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-height: calc(100% - 80px); /* Ensures container fits within modal */
        overflow-y: auto; /* Makes the container scrollable */
    }

    #team-selection-container {
        width: 90vw; /* Almost fullscreen width */
        height: 90vh; /* Almost fullscreen height */
        display: flex;
        justify-content: space-between;
        padding: 10px;
    }

    .banner1, .banner2, .banner3, .banner4 {
        position: absolute;
        top: -10px;
        left: -13px;
        width: 80px !important; /* Adjust width as needed */
        height: 110px !important; /* Adjust height as needed */
        z-index: 0; /* Ensure it stays below other elements */
    }

    .silver-border, .gold-border, .emerald-border, .diamond-border, .challenger-border {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100% !important;
        pointer-events: none; /* Ensure the border image doesn't interfere with clicks */
        z-index: 0; /* Ensure it stays below other elements */
    }

    /* New styles for character selection window */
    .role-section {
        margin-bottom: 20px;
        width: 100%;
    }

    .role-header {
        font-size: 24px;
        color: #ffbb00;
        margin-bottom: 10px;
        text-align: center;
    }

    .role-characters {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    .character-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 10px;
        padding: 10px;
        background-color: #444;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s, box-shadow 0.3s;
        cursor: pointer; /* Make the entire card clickable */
    }

    .character-card:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .character-image {
        width: 100px;
        height: auto;
        border-radius: 50%;
        margin-bottom: 10px;
    }

    .character-name {
        font-size: 16px;
        color: white;
        text-align: center;
    }
    </style>
</head>
<body>
    <!-- Menu -->
    <div class="menu">
        <div class="menu-items">
            <a href="home.html">Home</a>
            <a href="Store.html">Store</a>
            <a href="event.html">Event</a>
            <a href="Team Builder.html">Team Builder</a>
            <a href="statistics.html">Statistics</a>
        </div>
    </div>
    <div class="play-button-container">
        <a href="Game Modes.html" class="play-button">Play</a>
    </div>
</div>
    <div class="team-container" id="team1">
        <div class="player-slot" id="team1-player1">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 1 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team1-player2">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 2 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team1-player3">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 3 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team1-player4">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 4 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team1-player5">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 5 Skin">
            <div class="skin-name"></div>
        </div>
    </div>

    <div id="vs-text">VS</div>

    <div class="team-container2" id="team2">
        <div class="player-slot" id="team2-player1">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 6 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team2-player2">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 7 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team2-player3">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 8 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team2-player4">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 9 Skin">
            <div class="skin-name"></div>
        </div>
        <div class="player-slot" id="team2-player5">
            <div class="choose-fighter-button">Choose Your Fighter</div>
            <img src="" alt="Player 10 Skin">
            <div class="skin-name"></div>
        </div>
    </div>
    <div id="decide-game-container">
        <button id="decide-game-button">Decide Game</button>
    </div>

    <div id="game-result" style="display:none;"></div>

    <div id="skin-selection-modal">
        <div id="skin-selection-content">
            <input type="text" id="skin-search" placeholder="Search skins">
            <div id="skin-container"></div>
            <button id="close-modal">&times;</button>
        </div>
    </div>
</body>
</html>