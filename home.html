<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Champion Selector</title>
    <!-- Include Firebase SDK and configuration as module scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js" type="module"></script>
    

    
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js';
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
        import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js';
        import { getDatabase, ref, push, set, get, update, runTransaction } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js';
        import { quests } from './quests.js';
        import { roles } from './roles.js'; // Importing roles.js
        

        const firebaseConfig = {
            apiKey: "AIzaSyCqhxq6sPDU3EmuvvkBIIDJ-H6PsBc42Jg",
            authDomain: "project-fighters-by-fishb0nes.firebaseapp.com",
            databaseURL: "https://project-fighters-by-fishb0nes-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "project-fighters-by-fishb0nes",
            storageBucket: "project-fighters-by-fishb0nes.appspot.com",
            messagingSenderId: "867339299995",
            appId: "1:867339299995:web:99c379940014b9c05cea3e",
            measurementId: "G-LNEM6HR842"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const database = getDatabase(app);

        function createParticles() {
            const particleContainer = document.querySelector('.particle-container');
            if (!particleContainer) {
                const newParticleContainer = document.createElement('div');
                newParticleContainer.classList.add('particle-container');
                document.body.appendChild(newParticleContainer);
            }

            for (let i = 0; i < 60; i++) { // Increase number for more particles
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.width = `${Math.random() * 6 + 4}px`; // Size between 4px and 10px
                particle.style.height = particle.style.width;
                particle.style.background = `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, 0.7)`;
                particle.style.animationDuration = `${Math.random() * 5 + 3}s`; // Duration between 3s and 8s
                particle.style.animationDelay = `${Math.random() * 5}s`; // Delay between 0s and 5s
                document.querySelector('.particle-container').appendChild(particle);
            }
        }

        window.onload = function() {
            createParticles();
            initializeAuthState();
        };

        function initializeAuthState() {
            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    const userId = user.uid;
                    const userRef = ref(database, `users/${userId}`);
                    const snapshot = await get(userRef);
                    const userData = snapshot.val();
                    if (userData) {
                        // Create a container for username and title
                        const usernameContainer = document.createElement('div');
                        usernameContainer.className = 'username-title-container';
                        
                        // Set up username
                        const usernameDisplay = document.createElement('div');
                        usernameDisplay.id = 'username-display';
                        usernameDisplay.textContent = userData.username || user.email.split('@')[0];
                        usernameContainer.appendChild(usernameDisplay);
                        
                        // Check for active title
                        if (userData.activeTitle) {
                            const titleDisplay = document.createElement('div');
                            titleDisplay.id = 'title-display';
                            titleDisplay.textContent = `(${userData.activeTitle})`;
                            usernameContainer.appendChild(titleDisplay);
                        }
                        
                        // Replace old username display with new container
                        const oldUsernameDisplay = document.getElementById('username-display');
                        oldUsernameDisplay.parentNode.replaceChild(usernameContainer, oldUsernameDisplay);
                        
                        // Set other user data
                        setProfileImage(`Icons/${userData.icon || 'Julia.png'}`, `Icons/Profile/${userData.icon || 'Julia.png'}`);
                        document.getElementById('currency-amount').textContent = userData.FM || 0;
                        document.getElementById('cm-amount').textContent = userData.CM || 0;

                        // Initialize quest data if not present
                        const questsRef = ref(database, `users/${userId}/quests`);
                        const questsSnapshot = await get(questsRef);
                        const questsData = questsSnapshot.val() || {};

                        quests.forEach(quest => {
                            const questData = questsData[quest.id] || { progress: 0, completed: false, claimed: false };
                            if (!questData.claimed) {
                                displayQuest(quest, questData, userData);
                            }
                        });
                    } else {
                        // If no user data is found, display all quests
                        quests.forEach(quest => {
                            displayQuest(quest, { progress: 0, completed: false, claimed: false }, {});
                        });
                    }
                } else {
                    console.log("User is not authenticated");
                }
            });
        };

        window.openChangeIconModal = async function() {
            const modal = document.getElementById('change-icon-modal');
            modal.style.display = 'block';

            // Load icons dynamically
            const iconList = document.getElementById('icon-list');
            iconList.innerHTML = '';

            const icons = [
                'Julia.png', 'Birdie.png', 'Erron Black.png', 'Cham Cham.png', 'Morrigan.png',
                'Jun.png', 'Reptile.png', 'Akuma.png', 'Elphelt.png', 'Kotal Kahn.png',
                'Scorpion.png', 'Peacock.png', 'Angel.png', 'Astaroth.png', 'Ibuki.png',
                'R.Mika.png', 'Raiden.png', 'Yugo.png', 'Talim.png', 'Noel.png',
                'Blanka.png', 'Nina.png', 'Ayane.png', 'Siegfried.png', 'Shoma.png', 
                'Juri.png', 'Sub Zero.png', 'Christie.png', 'Kokoro.png', 'Eagle.png',
                'Sophitia.png', 'Shizumaru.png', 'Kagome.png', 'Kabal.png', 'Kuma.png',
                'Alice.png', 'Shinnok.png', 'FANG.png', 'Lili.png', 'Mega Man.png',
                
            ];

            icons.forEach(icon => {
                const img = document.createElement('img');
                img.src = `Icons/${icon}`;
                img.alt = icon.replace('.png', '');
                img.classList.add('icon-image');
                img.onclick = () => selectIcon(icon);
                iconList.appendChild(img);
            });

            // Fetch user-specific icons from the database
            const user = auth.currentUser;
            if (user) {
                const userRef = ref(database, 'users/' + user.uid + '/Icons');
                const snapshot = await get(userRef);
                if (snapshot.exists()) {
                    const userIcons = snapshot.val();
                    for (const iconName in userIcons) {
                        if (userIcons[iconName] === 1) { // Check if the value is 1
                            const img = document.createElement('img');
                            img.src = `Icons/Profile/${iconName}.png`;
                            img.alt = iconName.replace('.png', '');
                            img.classList.add('icon-image');
                            img.onclick = () => selectIcon(iconName + '.png');
                            iconList.appendChild(img);
                        }
                    }
                }
            }
        };

        window.logOut = function() {
            signOut(auth).then(() => {
                console.log('User signed out successfully');
                window.location.href = 'index.html'; // Redirect to login page after sign out
            }).catch((error) => {
                console.error('Error signing out:', error);
            });
        };

        function selectIcon(icon) {
            const user = auth.currentUser;
            if (user) {
                updateIcon(icon)
                    .then(() => {
                        setProfileImage(`Icons/${icon}`, `Icons/Profile/${icon}`);
                        closeChangeIconModal();
                    })
                    .catch(error => {
                        console.error('Error updating icon:', error);
                    });
            } else {
                console.error('User not authenticated');
            }
        }

        async function updateIcon(icon) {
            const user = auth.currentUser;
            if (user) {
                const userRef = ref(database, 'users/' + user.uid);
                try {
                    const snapshot = await get(userRef);
                    if (snapshot.exists()) {
                        const userData = snapshot.val();
                        userData.icon = icon; // Update the icon field
                        await set(userRef, userData); // Write back the updated data
                        console.log('Icon updated successfully');
                    } else {
                        console.error('No user data found');
                    }
                } catch (error) {
                    console.error('Error updating icon:', error);
                }
            } else {
                console.error('User not authenticated');
            }
        }

        function setProfileImage(primaryPath, fallbackPath) {
            const img = document.getElementById('profile-image');
            img.onerror = () => {
                img.onerror = null; // Remove error handler to avoid infinite loop
                img.src = fallbackPath;
            };
            img.src = primaryPath;
        }

        window.closeChangeIconModal = function() {
            const modal = document.getElementById('change-icon-modal');
            modal.style.display = 'none';
        };

        

        window.toggleProfileMenu = function() {
            const profileMenu = document.getElementById('profile-menu');
            profileMenu.classList.toggle('show');
        };

        window.searchChampion = function() {
            const input = document.getElementById('search-bar').value.toLowerCase();
            const images = document.getElementsByClassName('champion-image');
            for (let i = 0; i < images.length; i++) {
                const altText = images[i].alt.toLowerCase();
                if (altText.includes(input)) {
                    images[i].style.display = '';
                } else {
                    images[i].style.display = 'none';
                }
            }
        };


        window.updateQuestProgress = async function(questId, progressIncrement = 1) {
            const user = auth.currentUser;
            if (user) {
                const userId = user.uid;
                const userRef = ref(database, `users/${userId}/quests/${questId}`);
                const snapshot = await get(userRef);
                const questData = snapshot.val() || { progress: 0, completed: false, claimed: false };
                if (!questData.completed) {
                    const newProgress = (questData.progress || 0) + progressIncrement;
                    if (newProgress >= quests.find(q => q.id === questId).goal) {
                        await update(userRef, { progress: newProgress, completed: true });
                    } else {
                        await update(userRef, { progress: newProgress });
                    }
                }
            } else {
                console.error('User not authenticated');
            }
        };

        function checkCharacterQuestProgress(team) {
            const user = auth.currentUser;
            if (user) {
                const userId = user.uid;
                const userRef = ref(database, `users/${userId}`);
                get(userRef).then(snapshot => {
                    const userData = snapshot.val();
                    quests.forEach(quest => {
                        if (quest.id === 'winAsSpecificCharacter' && quest.requirement(userData)) {
                            updateQuestProgress(quest.id);
                        }
                    });
                });
            } else {
                console.error('User not authenticated');
            }
        }

        window.claimReward = async function(questId) {
            const user = auth.currentUser;
            if (user) {
                const userId = user.uid;
                const questRef = ref(database, `users/${userId}/quests/${questId}`);
                const snapshot = await get(questRef);
                const questData = snapshot.val();

                if (questData && !questData.claimed) {
                    const quest = quests.find(q => q.id === questId);

                    // Increment the reward value
                    for (const rewardKey in quest.reward) {
                        const rewardRef = ref(database, `users/${userId}/${rewardKey}`);
                        await runTransaction(rewardRef, (currentValue) => {
                            return (currentValue || 0) + quest.reward[rewardKey];
                        });
                    }

                    await update(questRef, { completed: true, claimed: true });
                    alert('Reward claimed! You have received a free lootbox.');
                    document.getElementById(`quest-${questId}`).remove();
                } else {
                    console.log('Reward already claimed or quest data not found.');
                }
            } else {
                console.error('User not authenticated');
            }
        };

        function displayQuest(quest, questData, userData, team = []) {
            const questContainer = document.getElementById('new-quests-box').querySelector('.content');
            const questElement = document.createElement('div');
            questElement.classList.add('quest');
            questElement.dataset.id = quest.id;
            questElement.id = `quest-${quest.id}`;

            const title = document.createElement('h3');
            title.textContent = quest.title;
            questElement.appendChild(title);

            const description = document.createElement('p');
            description.textContent = quest.description;
            questElement.appendChild(description);

            const progress = document.createElement('div');
            progress.classList.add('quest-progress');
            const progressBar = document.createElement('div');
            progressBar.style.width = `${(questData.progress / quest.goal) * 100}%`;
            progressBar.textContent = `${questData.progress}/${quest.goal}`;
            progress.appendChild(progressBar);
            questElement.appendChild(progress);

            const buttonContainer = document.createElement('div');
            buttonContainer.classList.add('button-container');

            const acceptButton = document.createElement('button');
            acceptButton.id = `accept-quest-button-${quest.id}`;
            acceptButton.textContent = 'Accept Quest';
            acceptButton.onclick = () => acceptQuest(quest.id);
            buttonContainer.appendChild(acceptButton);

            const claimButton = document.createElement('button');
            claimButton.id = `claim-reward-button-${quest.id}`;
            claimButton.classList.add('claim-button');
            claimButton.textContent = 'Claim Reward';
            claimButton.style.display = questData.progress >= quest.goal ? 'block' : 'none';
            claimButton.onclick = () => claimReward(quest.id);
            buttonContainer.appendChild(claimButton);

            questElement.appendChild(buttonContainer);

            // Add reward image
            const rewardImage = document.createElement('img');
            rewardImage.src = quest.image;
            rewardImage.alt = quest.hoverText;
            rewardImage.title = quest.hoverText;
            rewardImage.classList.add('reward-image');
            questElement.appendChild(rewardImage);

            questContainer.appendChild(questElement);

            // Hide the accept button if the quest is already in the user's database
            if (questData.progress > 0 || userData.quests && userData.quests[quest.id]) {
                acceptButton.style.display = 'none';
            }

            if (quest.requirement(userData, team)) {
                updateQuestProgress(quest.id, questData.progress + 1);
            }
        }

        window.acceptQuest = function(questId) {
            const user = auth.currentUser;
            if (user) {
                const userId = user.uid;
                const userRef = ref(database, `users/${userId}/quests/${questId}`);
                set(userRef, { progress: 0, completed: false, claimed: false });
                document.getElementById(`accept-quest-button-${questId}`).style.display = 'none';
            } else {
                console.error('User not authenticated');
            }
        };


        document.addEventListener('DOMContentLoaded', (event) => {
            const toggleFriendListButton = document.getElementById("toggle-friend-list");
            const friendList = document.getElementById("friend-list");
            const addFriendButton = document.getElementById("add-friend-button");
            const friendNameInput = document.getElementById("friend-name-input");
            const friendListUL = document.getElementById("friend-list-ul");

            toggleFriendListButton.addEventListener("click", function() {
                friendList.style.display = friendList.style.display === "none" ? "block" : "none";
            });

            addFriendButton.addEventListener("click", async function() {
                const friendName = friendNameInput.value;
                if (friendName) {
                    const userId = auth.currentUser.uid;
                    const usersRef = ref(database, 'users');
                    const snapshot = await get(usersRef);
                    let friendId = null;

                    snapshot.forEach(childSnapshot => {
                        const userData = childSnapshot.val();
                        if (userData.username === friendName) {
                            friendId = childSnapshot.key;
                        }
                    });

                    if (friendId) {
                        const friendRef = ref(database, 'users/' + userId + '/friends');
                        const newFriendRef = push(friendRef);
                        set(newFriendRef, {
                            id: friendId,
                            name: friendName
                        }).then(() => {
                            friendNameInput.value = '';
                            loadFriendList(userId);
                        }).catch((error) => {
                            console.error('Error adding friend:', error);
                        });
                    } else {
                        alert('Username not found');
                    }
                }
            });

            function loadFriendList(userId) {
                const friendRef = ref(database, 'users/' + userId + '/friends');
                get(friendRef).then(snapshot => {
                    friendListUL.innerHTML = '';
                    snapshot.forEach(childSnapshot => {
                        const friendData = childSnapshot.val();
                        loadFriendIcon(friendData.id, friendData.name);
                    });
                }).catch(error => {
                    console.error('Error loading friend list:', error);
                });
            }

            function loadFriendIcon(friendId, friendName) {
                const friendIconRef = ref(database, 'users/' + friendId + '/icon');
                get(friendIconRef).then(iconSnapshot => {
                    const iconFilename = iconSnapshot.exists() ? iconSnapshot.val() : 'default-icon.jpg';
                    const primaryIconUrl = `Icons/${iconFilename}`;
                    const fallbackIconUrl = `Icons/Profile/${iconFilename}`;
                    displayFriend(friendName, primaryIconUrl, fallbackIconUrl);
                }).catch(error => {
                    console.error('Error loading friend icon:', error);
                });
            }


            function displayFriend(friendName, primaryIconUrl, fallbackIconUrl) {
                const li = document.createElement('li');
                li.classList.add('friend-item');

                const img = document.createElement('img');
                img.src = primaryIconUrl;
                img.alt = 'Friend Icon';
                img.classList.add('friend-icon');
                img.onerror = () => {
                    img.onerror = null; // Remove error handler to avoid infinite loop
                    img.src = fallbackIconUrl;
                };

                const nameLink = document.createElement('a');
                nameLink.href = `ProfileVisitor.html?username=${friendName}`;
                nameLink.textContent = friendName;
                nameLink.classList.add('friend-name');

                li.appendChild(img);
                li.appendChild(nameLink);
                friendListUL.appendChild(li);
            }

            onAuthStateChanged(auth, user => {
                if (user) {
                    loadFriendList(user.uid);
                }
            });
        });

        // Add event listener for advent calendar button
        document.addEventListener('DOMContentLoaded', function() {
            const adventCalendarButton = document.querySelector('.advent-calendar-button');
            adventCalendarButton.addEventListener('click', async function() {
                const { openAdventCalendar } = await import('./advent-calendar.js');
                openAdventCalendar();
            });
        });
    </script>
	<script type="module" src="quests.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #333333;
            color: white;
            font-family: Arial, sans-serif;
            position: relative;
            overflow: hidden;
        }
        h1 {
            text-align: center;
            font-size: 36px;
            margin-top: 100px;
        }
        #champion-selector-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1200px;
            margin: 50px auto 20px auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(255, 255, 255, 0.2), 0 2px 10px rgba(245, 222, 179, 0.2); /* White and Hay */
            z-index: -1;
        }
        #champion-selector {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            align-items: center;
            width: 100%;
            max-width: 1140px;
            margin-top: 20px;
        }
        .icon-image {
            width: 90px;
            height: 90px;
            margin: 10px;
            border: 2px solid #444;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
            position: relative;
        }
        .icon-image:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px 5px rgba(245, 222, 179, 0.5); /* Hay */
        }
        .champion-image {
            width: 90px;
            height: 90px;
            margin: 10px;
            border: 2px solid #444;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
            position: relative;
        }
        .champion-image:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px 5px rgba(245, 222, 179, 0.5); /* Hay */
        }
        .selected {
            border-color: #F5DEB3; /* Hay */
        }
        .gray {
            filter: grayscale(100%);
        }
        #filter-container, #search-container {
            margin: 20px;
            text-align: center;
        }
        #search-container input {
            padding: 10px;
            font-size: 16px;
            width: 300px;
            border-radius: 5px;
            border: none;
        }

        /* New styles for user info */
        #user-info {
            position: flex;
            top: 0px; /* Adjust top position as needed */
            right: 0px; /* Adjust right position as needed */
        }
        #profile-info {
            display: flex;
            position: fixed;
            top: 65px;
            right: 0px;
            align-items: center;
            justify-content: flex-end; /* Align content to the right */
            background-color: rgba(0, 0, 0, 0.8);
            padding: 5px 10px;
            width: calc(100% - 340px);
            max-width: 275px;
        }

        #username-display {
            position: center;
            margin-right: 10px;
            font-size: 20px;
            color: white;
        }

        #profile-image {
            width: 85px;
            height: 85px;
            border-radius: 50%;
            margin-left: 10px; /* Adjust margin as needed */
        }
        /* Transparent Menu */
        .menu {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 20px;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 0;
        }

        .menu-items {
            display: flex;
            justify-content: center;
            position: relative;
        }

        .menu a {
            color: white;
            text-decoration: none;
            padding: 14px 16px;
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.3s;
        }

        .menu a:hover {
            background-color: #F5DEB3; /* Wedding Blue */
            transform: scale(1.1);
        }

        .play-button-container {
            display: flex;
            justify-content: flex-start;
            padding: 20px;
            z-index: auto;
            position: fixed;
        }

        .play-button {
            background-color: #F5DEB3; /* Wedding Blue */
            color: white;
            border: none;
            border-radius: 25px; /* Slightly less rounded corners for a modern look */
            font-size: 22px; /* Slightly larger font size */
            font-weight: bold;
            text-decoration: none;
            padding: 15px 40px; /* Increased padding for a more prominent button */
            transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* More pronounced shadow for a modern effect */
            z-index: 1; /* Ensure it is above other elements */
            top: 5px; /* Adjusted position */
            right: 10px;
            position: fixed;
        }

        .play-button:hover {
            background-color: #F5DEB3; /* Darker Wedding Blue */
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4); /* More pronounced shadow on hover */
        }


        .battlepass-button {
            position: fixed;
            top: 125px;
            left: 75px;
            background-color: transparent;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            width: 200px; /* Adjust the width as needed */
            flex-direction: column; /* Stack image and text vertically */
            border: 2px solid #F5DEB3; /* Hay */
        }

        .battlepass-button img {
            width: 250px; /* Adjust the size as needed */
            height: 100px;
            transition: transform 0.3s, box-shadow 0.3s;
            position: absolute; /* Position image absolutely */
            z-index: -1; /* Place image behind the text */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Add shadow for a modern effect */
            border-radius: 10px; /* Slightly rounded corners for a modern look */
            animation: float 5s ease-in-out infinite; /* Add floating animation */
            box-shadow: 0 8px 20px #F5DEB3; /* Hay */
        }

        .battlepass-button span {
            color: #ffffff; /* MOBA game-like gold color */
            font-size: 24px; /* Slightly larger font size */
            font-weight: bold;
            margin-top: 10px; /* Adjust margin to position text */
            transition: transform 0.3s;
            z-index: 1; /* Ensure text is above the image */
            font-family: 'Bangers', cursive; /* MOBA game-like font */
            text-shadow: 2px 2px 4px #F5DEB3; /* Hay */
            animation: float 5s ease-in-out infinite; /* Add floating animation */
        }

        .battlepass-button span:hover {
            color: #F5DEB3; /* Light Wedding Blue */
            transform: scale(1.1);
            box-shadow: 0 8px 20px #F5DEB3; /* Hay */
        }

        .battlepass-button:hover img {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(245, 222, 179, 0.7); /* Hay shadow */
        }

        #video-background {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            z-index: -1;
            filter: brightness(40%) contrast(120%);
        }

        /* Profile Menu */
        .profile-menu {
            display: none;
            position: absolute;
            top: 187px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            width: 200px;
        }

        .profile-menu ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .profile-menu ul li {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 1px solid #555;
            transition: background-color 0.3s;
        }

        .profile-menu ul li:hover {
            background-color: #F5DEB3; /* Hay */
        }

        .profile-menu ul li:last-child {
            border-bottom: none;
        }
        .profile-menu.show {
            display: block;
        }

        /* Quests Toggle Button */
        #quests-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        #quest-count {
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 5px 10px;
            margin-right: 10px;
            font-size: 14px;
            font-weight: bold;
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scrolling if needed */
            background-color: rgba(0, 0, 0, 0.5); /* Black with transparency */
            padding-top: 50px; /* Center modal vertically */
        }

        .modal-content {
            background-color: black;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1); /* Soft shadow */
            max-width: 100%; /* Adjust width as needed */
            max-height: 80%; /* Adjust height as needed */
            overflow: auto; /* Enable scrolling if content exceeds dimensions */
        }

        .modal-content img {
            border-radius: 50%;
        }

        .close {
            color: #aaaaaa;
            float: right;
            font-size: 30px;
            font-weight: bold;
            line-height: 1;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        /* Media query for responsiveness */
        @media (min-width: 1150px) {
            .modal-content {
                max-width: 1150px; /* Adjust maximum width for larger screens */
            }
        }
        .currency-container {
            position: fixed;
            top: 220px; /* Adjust top position as needed */
            right: 3px; /* Align with profile-info */
            align-items: center;
            padding: 5px 10px;
            max-width: 275px;
            z-index: 1000; /* Ensure it's above other content */
            display: flex; /* Use flexbox to align items */
            align-items: center; /* Align items vertically */
        }

        .currency-icon {
            width: 25px; /* Adjusted width for better visibility */
            height: auto; /* Maintain aspect ratio */
            margin-left: 5px;
        }
        .currency-icon img {
            width: 25px; /* Adjust the width as needed */
            height: auto; /* Maintain aspect ratio */
        }

        .currency-amount {
            font-size: 18px;
            font-weight: bold;
            color: white;
            margin-left: 5px; /* Add margin to separate from the icon */
        }
         #unlockButton {
            position: fixed;
            bottom: 20px;
            left: 20px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: none; /* Initially hidden */
        }
        .cm-container {
            position: fixed; /* Fixed position */
            top: 185px; /* Adjust top position */
            right: 0px; /* Align with profile-info */
            align-items: center; /* Align items vertically */
            padding: 5px 10px; /* Padding around the container */
            max-width: 275px; /* Maximum width */
            z-index: 1000; /* Ensure it's above other content */
            display: flex; /* Use flexbox to align items */
        }

        .cm-icon {
            width: 25px; /* Adjusted width for the icon */
            height: auto; /* Maintain aspect ratio */
            margin-left: 5px; /* Margin between icon and amount */
        }

        .cm-icon img {
            width: 25px; /* Adjusted width for the icon image */
            height: auto; /* Maintain aspect ratio */
        }

        #cm-amount {
            color: white; /* Text color */
            margin-left: 5px; /* Add margin to separate from the icon */
        }
        #news-feed {
            position: fixed;
            top: 55px; /* Adjust based on your layout */
            left: 0;
            width: 250px; /* Adjust width as needed */
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
            z-index: 2000; /* Ensure it's above other content */
            overflow-y: auto;
            max-height: 90vh;
        }

        .news-item {
            margin-bottom: 20px;
        }

        .news-image {
            width: 20%;
            height: auto;
            border-radius: 5px;
        }

        .news-title {
            font-size: 18px;
            margin: 10px 0 5px;
        }

        .news-text {
            font-size: 14px;
        }
        #friend-list-container {
            position: fixed;
            bottom: 10px;
            right: 14px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(255, 255, 255, 0.2), 0 2px 10px rgba(245, 222, 179, 0.2); /* White and Hay */
            z-index: 1000;
            width: 300px;
            max-width: 275px;
            align-items: center;
            max-height: 800px;
            overflow-y: auto;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        #friend-list-container .header {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            color: #ffeb3b;
            text-shadow: 0 0 10px rgba(255, 235, 59, 0.5);
            box-shadow: 0 2px 10px rgba(255, 235, 59, 0.2);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

    #friend-list {
        display: none;
    }

    #friend-list ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

    .friend-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #444;
    }

    .friend-item:last-child {
        border-bottom: none;
    }

    .friend-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .friend-name {
        color: inherit; /* Inherit the color from the parent element */
        text-decoration: none; /* Remove underline */
        cursor: pointer; /* Change cursor to pointer */
    }

    /* Toggle Champion Selector Button Styles */
    #toggle-champion-button {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%) rotate(0deg);
        background-color: rgba(7, 4, 4, 0.589);
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        cursor: pointer;
        font-size: 24px;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s ease, background-color 0.3s ease;
        z-index: 1000;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    #toggle-champion-button:hover {
        background-color: rgba(255, 255, 255, 0.4);
        transform: translateX(-50%) rotate(180deg);
    }

    /* Animation for Rotation */
    @keyframes rotateArrow {
        from {
            transform: translateX(-50%) rotate(0deg);
        }
        to {
            transform: translateX(-50%) rotate(180deg);
        }
    }

    #toggle-champion-button.rotated {
        animation: rotateArrow 0.3s forwards;
    }

    .friend-name:hover {
        text-decoration: underline; /* Optional: Add underline on hover */
    }

    #friend-name-input {
        width: calc(100% - 22px);
        margin-top: 10px;
        padding: 10px;
        border: none;
        border-radius: 5px;
        background-color: #333;
        color: white;
    }

    #add-friend-button {
        margin-top: 10px;
        padding: 10px;
        background-color: #F5DEB3; /* Hay */
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
    }

    #add-friend-button:hover {
        background-color: #F5DEB3; /* Hay */
    }

    #toggle-friend-list {
        cursor: pointer;
        color: #F5DEB3; /* Hay */
        text-align: center;
        margin-top: 10px;
    }

    #toggle-friend-list:hover {
        color: #F5DEB3; /* Hay */
        text-decoration: underline;
    }
    /* Quests Section Styles */
    #new-quests-box {
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 300px; /* Reduced width */
        background-color: rgb(17, 16, 16);
        color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
        z-index: 1000;
        font-family: 'Roboto', sans-serif;
        max-height: 400px; /* Reduced max height */
        overflow-y: auto;
        backdrop-filter: blur(8px);
        transition: all 0.3s ease-in-out;
    }

    #new-quests-box .header {
        background-color: rgba(0, 0, 0, 0.7);
        padding: 15px;
        font-size: 18px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        color: #F5DEB3; /* Hay */
        text-shadow: 0 0 10px rgba(245, 222, 179, 0.5); /* Adjusted shadow */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(5px);
        transition: all 0.3s ease;
    }

    #new-quests-box .header h2 {
        margin: 0;
        color: #ffffff;
    }

    #toggle-quests {
        background: none;
        border: none;
        color: #F5DEB3; /* Hay */
        font-size: 20px; /* Reduced font size */
        cursor: pointer;
        transition: transform 0.3s;
    }

    #new-quests-box .content {
        padding: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    #new-quests-box .quest {
        background-color: rgba(0, 0, 0, 0.411);
        border-radius: 8px;
        padding: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s, box-shadow 0.3s;
        display: flex;
        flex-direction: column;
    }

    #new-quests-box .quest-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    #new-quests-box .quest h3 {
        margin: 0;
        font-size: 16px; /* Reduced font size */
        color: #F5DEB3; /* Darker Wedding Blue */
    }

    .reward-image {
        width: 30px; /* Smaller image size */
        height: 30px;
        border-radius: 50%;
    }

    #new-quests-box .quest-description {
        margin: 5px 0;
        font-size: 14px; /* Reduced font size */
        color: #e0e0e0;
    }

    #new-quests-box .quest .quest-progress {
        height: 8px; /* Reduced height */
        background-color: #9e9e9e;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 8px;
    }

    #new-quests-box .quest .quest-progress div {
        height: 100%;
        background-color: #F5DEB3; /* Hay */
        width: 50%;
        transition: width 0.3s;
    }

    #new-quests-box .quest .claim-button {
        padding: 6px 12px; /* Reduced padding */
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 12px; /* Reduced font size */
        background-color: #F5DEB3; /* Hay */
        color: #ffffff;
        transition: background-color 0.3s;
    }

    #new-quests-box .quest .claim-button:hover {
        background-color: #F5DEB3; /* Hay */
    }

    #new-quests-box .quest:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(245, 222, 179, 0.8); /* Hay shadow */
    }
        /* ===================== Animated Particle Background ===================== */

    /* Container for particles */
    .particle-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: -2; /* Ensure particles are behind all content */
    }
    /* Responsive Styles for Quests Section */
    @media (max-width: 768px) {
        #new-quests-box {
            width: 90%;
            left: 5%;
            bottom: 10px;
        }

        #new-quests-box .header h2 {
            font-size: 18px;
        }

        #new-quests-box .quest h3 {
            font-size: 18px;
        }

        #new-quests-box .quest p {
            font-size: 14px;
        }

        #new-quests-box .quest button {
            font-size: 12px;
            padding: 6px 12px;
        }
    }

    /* Particle Styles */
    @keyframes particleMove {
        0% {
            transform: translate(0, 0) scale(1);
            opacity: 1;
        }
        100% {
            transform: translate(100px, 100px) scale(0.5);
            opacity: 0;
        }
    }

    .particle {
        position: absolute;
        width: 8px;
        height: 8px;
        background: rgba(245, 222, 179, 0.7); /* Hay color with transparency */
        border-radius: 50%;
        animation: particleMove linear infinite;
    }

    /* ===================== Menu Slide-In Animation ===================== */

    @keyframes slideInFromTop {
        from {
            transform: translateY(-100%);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .menu {
        animation: slideInFromTop 1s ease-out forwards;
    }

    /* ===================== Button Hover Effects ===================== */

    /* Play Button Glowing and Scaling on Hover */
    .play-button {
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .play-button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(0, 123, 95, 0.8);
    }

    /* Battlepass Button Hover Effects */
    .battlepass-button:hover img {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
    }

    .battlepass-button span:hover {
        transform: scale(1.1);
    }

    /* ===================== Profile Section Animations ===================== */

    /* Fade-In Animation for Profile Info */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    #profile-info {
        animation: fadeIn 1s ease-out forwards;
    }

    /* ===================== Champion Selector Animations ===================== */

    /* Enhanced Entrance Animation for Champion Images */
    @keyframes fadeInScale {
        0% {
            opacity: 0;
            transform: scale(0.85);
        }
        50% {
            opacity: 0.5;
            transform: scale(1.02);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .champion-image {
        animation: fadeInScale 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        opacity: 0;
    }

    /* Add Delay for Staggered Entrance with Enhanced Timing */
    .champion-image:nth-child(odd) {
        animation-delay: 0.2s;
    }

    .champion-image:nth-child(even) {
        animation-delay: 0.4s;
    }

    /* Smooth Hover Glow and Scale Effect */
    .champion-image:hover {
        box-shadow: 0 0 20px #F5DEB3; /* Hay */
        transform: scale(1.15);
        transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    .advent-calendar-button {
        position: fixed;
        top: 245px; /* Positioned below battlepass button */
        left: 75px;
        background-color: transparent;
        cursor: pointer;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        width: 200px; /* Adjust the width as needed */
        flex-direction: column; /* Stack image and text vertically */
        border: 2px solid #F5DEB3; /* Hay */
    }

    .advent-calendar-button img {
        width: 250px; /* Adjust the size as needed */
        height: 100px;
        transition: transform 0.3s, box-shadow 0.3s;
        position: absolute; /* Position image absolutely */
        z-index: -1; /* Place image behind the text */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Add shadow for a modern effect */
        border-radius: 10px; /* Slightly rounded corners for a modern look */
        animation: float 5s ease-in-out infinite; /* Add floating animation */
        box-shadow: 0 8px 20px #F5DEB3; /* Hay */
    }

    .advent-calendar-button span {
        color: #ffffff; /* MOBA game-like gold color */
        font-size: 24px; /* Slightly larger font size */
        font-weight: bold;
        margin-top: 10px; /* Adjust margin to position text */
        transition: transform 0.3s;
        z-index: 1; /* Ensure text is above the image */
        font-family: 'Bangers', cursive; /* MOBA game-like font */
        text-shadow: 2px 2px 4px #F5DEB3; /* Hay */
        animation: float 5s ease-in-out infinite; /* Add floating animation */
    }

    .advent-calendar-button span:hover {
        color: #F5DEB3; /* Light Wedding Blue */
        transform: scale(1.1);
        box-shadow: 0 8px 20px #F5DEB3; /* Hay */
    }

    .advent-calendar-button:hover img {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(245, 222, 179, 0.7); /* Hay shadow */
    }

    /* Optional: Add a festive glow animation */
    @keyframes festiveGlow {
        0% { box-shadow: 0 0 15px rgba(245, 222, 179, 0.7); }
        50% { box-shadow: 0 0 25px rgba(245, 222, 179, 0.9); }
        100% { box-shadow: 0 0 15px rgba(245, 222, 179, 0.7); }
    }

    .advent-calendar-button:hover {
        animation: festiveGlow 2s infinite;
    }

    /* Advent Calendar Window */
    .modal-window {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 2000;
    }

    .advent-calendar-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        z-index: 1001;
        width: 80%;
        max-width: 600px;
    }

    .close-button {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
    }

    .close-button:hover {
        color: red;
    }

    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 15px;
        padding: 20px;
        background-color: rgba(17, 16, 16, 0.95);
        border-radius: 15px;
        margin: 15px;
    }

    .calendar-day {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #F5DEB3;
        color: #333;
        font-size: 1.5em;
        font-weight: bold;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(245, 222, 179, 0.3);
        padding: 15px;
        min-height: 60px;
    }

    .calendar-day:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 12px rgba(245, 222, 179, 0.5);
    }

    .modal-window {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 2000;
    }

    .advent-calendar-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgb(17, 16, 16);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(245, 222, 179, 0.3);
        color: #fff;
        width: 70%;
        max-width: 900px;
        min-height: 600px;
    }

    .advent-calendar-content h2 {
        text-align: center;
        font-size: 2em;
        color: #F5DEB3;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .close-button {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 32px;
        color: #F5DEB3;
        cursor: pointer;
        transition: transform 0.3s ease;
        z-index: 2001;
    }

    .close-button:hover {
        transform: scale(1.2);
    }

    .reward-content {
        width: 40%;
        max-width: 400px;
        padding: 30px;
    }

    #reward-image {
        max-width: 200px;
        max-height: 200px;
    }

    @media (max-width: 768px) {
        .calendar-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 15px;
        }

        .calendar-day {
            padding: 20px;
            font-size: 1.5em;
            min-height: 80px;
        }

        .advent-calendar-content {
            width: 95%;
            padding: 20px;
            min-height: auto;
        }
    }

    /* Add or update these styles in your <style> section */
    .modal-window {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #daily-reward-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgb(17, 16, 16);
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(245, 222, 179, 0.3);
        text-align: center;
        z-index: 2001;
        width: 80%;
        max-width: 600px;
    }

    #reward-image {
        width: auto;
        height: auto;
        max-width: 400px;
        max-height: 400px;
        margin: 20px auto;
        display: block;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(245, 222, 179, 0.2);
    }

    #reward-name {
        font-size: 2em;
        color: #F5DEB3;
        margin: 20px 0;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .close-reward-button {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 24px;
        color: #F5DEB3;
        cursor: pointer;
        background: none;
        border: none;
        padding: 5px 10px;
        transition: transform 0.3s ease;
    }

    .close-reward-button:hover {
        transform: scale(1.1);
    }

    /* Animation for reward appearance */
    @keyframes popIn {
        0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
        100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    #daily-reward-popup {
        animation: popIn 0.3s ease-out forwards;
    }

    /* Update these styles in your <style> section */
    .reward-display {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: 20px;
    }

    .reward-display h2 {
        font-size: 2em;
        color: #F5DEB3;
        margin-bottom: 30px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    #reward-image {
        max-width: 80%;
        max-height: 60vh;
        border-radius: 10px;
        box-shadow: 0 0 30px rgba(245, 222, 179, 0.3);
    }

    /* Animation for the reward appearance */
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
    }

    .reward-display {
        animation: fadeIn 0.3s ease-out forwards;
    }

    /* Update the close button position */
    .close-button {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 32px;
        color: #F5DEB3;
        cursor: pointer;
        transition: transform 0.3s ease;
        z-index: 2001;
    }

    .close-button:hover {
        transform: scale(1.2);
    }

    /* Update these styles in your <style> section */
    .modal-window {
        display: none; /* Hide by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 2000;
    }

    .advent-calendar-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgb(17, 16, 16);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(245, 222, 179, 0.3);
        color: #fff;
        width: 70%;
        max-width: 900px;
        min-height: 600px;
    }

    #daily-reward-popup {
        display: none; /* Hide by default */
    }

    .username-title-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
    }

    #username-display {
        font-size: 1.2em;
        font-weight: bold;
    }

    #title-display {
        font-size: 0.8em;
        color: #ffbb00;  /* Gold color for the title */
        font-style: italic;
    }

    .patch-button {
        position: fixed;
        top: 200px; /* Adjust this value to move the button down */
        left: 75px;
        background-color: black;
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        overflow: hidden;
        width: 250px; /* Adjust width as needed */
        z-index: 1000;
    }

    .patch-button a {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        color: white;
        padding: 10px;
    }

    .patch-button img {
        width: 100%;
        height: auto;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .patch-button:hover img {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
    }

    .patch-text h2, .patch-text p {
        margin: 0;
        text-align: center;
        font-family: 'Bangers', cursive;
    }

    .patch-text h2 {
        font-size: 24px;
        margin-top: 10px;
    }

    .patch-text p {
        font-size: 16px;
    }

    .changelog-button {
        position: fixed;
        top: 365px; /* Position it between battlepass and advent calendar buttons */
        left: 75px;
        background-color: transparent;
        cursor: pointer;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        width: 200px;
        flex-direction: column;
        border: 2px solid #F5DEB3; /* Hay */
    }

    .changelog-button img {
        width: 250px;
        height: 100px;
        transition: transform 0.3s, box-shadow 0.3s;
        position: absolute;
        z-index: -1;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        animation: float 5s ease-in-out infinite;
        background-color: black; /* Add black background to the image container */
    }

    .changelog-button span {
        color: #ffffff;
        font-size: 24px;
        font-weight: bold;
        margin-top: 10px;
        transition: transform 0.3s;
        z-index: 1;
        font-family: 'Bangers', cursive;
        text-shadow: 2px 2px 4px #F5DEB3;
        animation: float 5s ease-in-out infinite;
    }

    .changelog-button:hover img {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(245, 222, 179, 0.7);
    }

    .changelog-button:hover span {
        color: #F5DEB3;
        transform: scale(1.1);
        box-shadow: 0 8px 20px #F5DEB3;
    }

    </style>

</head> 
<body>
    <!-- Video Background -->
    <video id="video-background" autoplay muted loop>
        <source src="Event/Eventvideo.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Menu -->
    <div class="menu">
        <div class="menu-items">
            <a href="home.html">Home</a>
            <a href="Store.html">Store</a>
            <a href="event.html">Event</a>
            <a href="Team Builder.html">Team Builder</a>
            <a href="statistics.html">Statistics</a>
        </div>
    </div>

    <button class="battlepass-button" onclick="window.location.href='battlepass.html'">
        <img src="Event/Farmer Event.jpeg" alt="Battlepass">
        <span>Battlepass</span>
    </button>

    <!-- Add this after the battlepass button and before the advent calendar button -->
    <button class="battlepass-button changelog-button" onclick="window.location.href='changelog.html'">
        <img src="Default Splash/Sophitia.jpeg" alt="Patch Notes">
        <span>Patch 1.2 Changes</span>
    </button>

    <!-- Add the new Advent Calendar button -->
    <button class="advent-calendar-button">
        <img src="res/img/advent_calendar.jpeg" alt="Advent Calendar">
        <span>Advent Calendar</span>
    </button>

    <div class="play-button-container">
        <a href="Game Modes.html" class="play-button">Play</a>
    </div>
</div>
<!-- Toggle Champion Selector Button -->
<button id="toggle-champion-button" onclick="toggleChampionSelector()">
    &#9660; <!-- Down Arrow -->
</button>
	<!-- User Profile Info -->
    <div id="profile-info" onclick="toggleProfileMenu()">
        <div class="username-title-container">
            <div id="username-display"></div>
            <!-- Title will be dynamically added here if it exists -->
        </div>
        <img id="profile-image" class="icon-image" src="Icons/Birdie.png" alt="Profile Icon">
    </div>
    
    <div class="currency-container">
        <div id="currency-amount"></div>
        <div class="currency-icon">
            <img src="res/img/fm.png" alt="Currency Icon">
        </div>
    </div>
    <div class="cm-container">
        <div id="cm-amount"></div>
        <div class="cm-icon">
            <img src="res/img/cm.png" alt="CM">
        </div>
    </div>

	<!-- Profile Menu Pop-up -->
	<div id="profile-menu" class="profile-menu">
		<ul>
            <li onclick="window.location.href='character-progression.html'">Character Progression</li>
			<li onclick="profile()">Profile</li>
			<li onclick="openChangeIconModal()">Change Icon</li>
			<li onclick="viewCollection()">Collection</li>
			<li onclick="logOut()">Log Out</li>
		</ul>
	</div>
	

    <!-- Modal for Changing Profile Icon -->
    <div id="change-icon-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeChangeIconModal()">&times;</span>
            <h2>Select Your Profile Icon</h2>
            <div id="icon-list">
                <!-- Icons will be dynamically loaded here -->
            </div>
        </div>
    </div>
    <!-- Champion Selector -->
    <div id="champion-selector-container">
        <div id="champion-selector">
            <a href="ch/Julia.html"><img src="Icons/Julia.png" alt="Julia" class="champion-image"></a>
            <a href="ch/Birdie.html"><img src="Icons/Birdie.png" alt="Birdie" class="champion-image"></a>
            <a href="ch/Erron Black.html"><img src="Icons/Erron Black.png" alt="Erron Black" class="champion-image"></a>
            <a href="ch/Cham Cham.html"><img src="Icons/Cham Cham.png" alt="Cham Cham" class="champion-image"></a>
            <a href="ch/Morrigan.html"><img src="Icons/Morrigan.png" alt="Morrigan" class="champion-image"></a>
            <a href="ch/Jun.html"><img src="Icons/Jun.png" alt="Jun" class="champion-image"></a>
            <a href="ch/Reptile.html"><img src="Icons/Reptile.png" alt="Reptile" class="champion-image"></a>
            <a href="ch/Akuma.html"><img src="Icons/Akuma.png" alt="Akuma" class="champion-image"></a>
            <a href="ch/Elphelt.html"><img src="Icons/Elphelt.png" alt="Elphelt" class="champion-image"></a>
            <a href="ch/Kotal Kahn.html"><img src="Icons/Kotal Kahn.png" alt="Kotal Kahn" class="champion-image"></a>
            <a href="ch/Scorpion.html"><img src="Icons/Scorpion.png" alt="Scorpion" class="champion-image"></a>
            <a href="ch/Peacock.html"><img src="Icons/Peacock.png" alt="Peacock" class="champion-image"></a>
            <a href="ch/Angel.html"><img src="Icons/Angel.png" alt="Angel" class="champion-image"></a>
            <a href="ch/Astaroth.html"><img src="Icons/Astaroth.png" alt="Astaroth" class="champion-image"></a>
            <a href="ch/Ibuki.html"><img src="Icons/Ibuki.png" alt="Ibuki" class="champion-image"></a>
            <a href="ch/R Mika.html"><img src="Icons/R.Mika.png" alt="R.Mika" class="champion-image"></a>
            <a href="ch/Raiden.html"><img src="Icons/Raiden.png" alt="Raiden" class="champion-image"></a>
            <a href="ch/Yugo.html"><img src="Icons/Yugo.png" alt="Yugo" class="champion-image"></a>
            <a href="ch/Talim.html"><img src="Icons/Talim.png" alt="Talim" class="champion-image"></a>
            <a href="ch/Noel.html"><img src="Icons/Noel.png" alt="Noel" class="champion-image"></a>
            <a href="ch/Blanka.html"><img src="Icons/Blanka.png" alt="Blanka" class="champion-image"></a>
            <a href="ch/Nina.html"><img src="Icons/Nina.png" alt="Nina" class="champion-image"></a>
            <a href="ch/Ayane.html"><img src="Icons/Ayane.png" alt="Ayane" class="champion-image"></a>
            <a href="ch/Siegfried.html"><img src="Icons/Siegfried.png" alt="Siegfried" class="champion-image"></a>
            <a href="ch/Shoma.html"><img src="Icons/Shoma.png" alt="Shoma" class="champion-image"></a>
			<a href="ch/Juri.html"><img src="Icons/Juri.png" alt="Juri" class="champion-image"></a>
			<a href="ch/Sub Zero.html"><img src="Icons/Sub Zero.png" alt="Sub Zero" class="champion-image"></a>
			<a href="ch/Christie.html"><img src="Icons/Christie.png" alt="Christie" class="champion-image"></a>
			<a href="ch/Kokoro.html"><img src="Icons/Kokoro.png" alt="Kokoro" class="champion-image"></a>
			<a href="ch/Eagle.html"><img src="Icons/Eagle.png" alt="Eagle" class="champion-image"></a>
			<a href="ch/Sophitia.html"><img src="Icons/Sophitia.png" alt="default-icon" class="champion-image"></a>
			<a href="ch/Shizumaru.html"><img src="Icons/Shizumaru.png" alt="default-icon" class="champion-image" ></a>
			<a href="ch/Kagome.html"><img src="Icons/Kagome.png" alt="default-icon" class="champion-image"></a>
            <a href="ch/Kabal.html"><img src="Icons/Kabal.png" alt="default-icon" class="champion-image"></a>
            <a href="ch/Kuma.html"><img src="Icons/Kuma.png" alt="Kuma" class="champion-image"></a>
            <a href="ch/Alice.html"><img src="Icons/Alice.png" alt="Alice" class="champion-image"></a>
            <a href="ch/Shinnok.html"><img src="Icons/Shinnok.png" alt="Shinnok" class="champion-image"></a>
            <a href="ch/FANG.html"><img src="Icons/FANG.png" alt="FANG" class="champion-image"></a>
            <a href="ch/Lili.html"><img src="Icons/Lili.png" alt="Lili" class="champion-image"></a>
            <a href="ch/Mega Man.html"><img src="Icons/Mega Man.png" alt="Mega Man" class="champion-image"></a>
            <a href="ch/Mai.html"><img src="Icons/Mai.png" alt="Mai" class="champion-image"></a>
        </div>
    </div>
<!-- Quests Section -->
<div id="new-quests-box">
    <div class="header">
        <h2>Quests</h2>
        <button id="toggle-quests" aria-label="Toggle Quests">&#9660;</button> <!-- Down arrow -->
    </div>
    <div class="content">
        <!-- Quests will be dynamically loaded here -->
    </div>
</div>
    <div id="friend-list-container">
        <div id="toggle-friend-list">Friend List</div>
        <div id="friend-list">
            <ul id="friend-list-ul"></ul>
            <input type="text" id="friend-name-input" placeholder="Enter friend's username">
            <button id="add-friend-button">Add Friend</button>
        </div>
    </div>
   <!-- Add these two lines -->
   <script src="recolor-data.js" type="module"></script>
   <script src="advent-calendar.js" type="module"></script>
<script>
    function profile() {
         window.location.href = 'Profile.html';
        }
	function viewCollection() {
         window.location.href = 'Collection.html';
        }	
	document.addEventListener('DOMContentLoaded', function () {
			var video = document.getElementById('video-background');
			if (video) {
				video.playbackRate = 1.0; // Set playback speed to 50%
				video.play(); // Start playing the video
			}

            // Initialize Toggle Button State on Page Load
            const championSelector = document.getElementById('champion-selector-container');
        const toggleButton = document.getElementById('toggle-champion-button');

        // Initially show the champion selector
        championSelector.style.display = 'flex';

        // Close the quest container on page load
        const questContent = document.querySelector('#new-quests-box .content');
        const questToggleButton = document.getElementById('toggle-quests');
        questContent.style.display = 'none';
        questToggleButton.innerHTML = '&#9660;'; // Down arrow
    });

    // Toggle Quests Visibility with Smooth Transition
    document.getElementById('toggle-quests').addEventListener('click', function() {
        const content = document.querySelector('#new-quests-box .content');
        const toggleButton = document.getElementById('toggle-quests');
        
        if (content.style.display === 'none' || content.style.display === '') {
            content.style.display = 'flex';
            toggleButton.innerHTML = '&#9650;'; // Up arrow
        } else {
            content.style.display = 'none';
            toggleButton.innerHTML = '&#9660;'; // Down arrow
        }
    });

    // Toggle Champion Selector Visibility
    function toggleChampionSelector() {
        const championSelector = document.getElementById('champion-selector-container');
        const toggleButton = document.getElementById('toggle-champion-button');

        if (championSelector.style.display === 'none' || championSelector.style.display === '') {
            championSelector.style.display = 'flex';
            toggleButton.classList.add('rotated');
        } else {
            championSelector.style.display = 'none';
            toggleButton.classList.remove('rotated');
        }
    }

    // Initialize Toggle Button State on Page Load
    document.addEventListener('DOMContentLoaded', function () {
        const championSelector = document.getElementById('champion-selector-container');
        const toggleButton = document.getElementById('toggle-champion-button');

        // Initially show the champion selector
        championSelector.style.display = 'flex';
    });

    // ===================== Particle Effect Initialization =====================
</script>
<!-- Advent Calendar Window -->
<div id="advent-calendar-window" class="modal-window" style="display: none;">
    <div class="advent-calendar-content">
        <span class="close-button" data-action="closeCalendar">&times;</span>
        <h2>December 2024</h2>
        <div class="calendar-grid">
            <!-- Days will be generated by JavaScript -->
        </div>
    </div>
</div>

<!-- Daily Reward Popup -->
<div id="daily-reward-popup" style="display: none;">
    <div class="reward-content">
        <span class="close-button" data-action="closeReward">&times;</span>
        <h3>Daily Reward</h3>
        <img id="reward-image" src="" alt="Reward">
        <p id="reward-name"></p>
    </div>
</div>

<script type="module">
    import { closeAdventCalendar, closeRewardPopup } from './advent-calendar.js';
    
    // Add click handlers for close buttons
    document.addEventListener('click', (e) => {
        if (e.target.closest('.close-button[data-action="closeCalendar"]')) {
            closeAdventCalendar();
        } else if (e.target.closest('.close-button[data-action="closeReward"]')) {
            closeRewardPopup();
        }
    });
</script>
</body>
</html>