<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Mai - Character Page</title>
    <style>
        body {
                 margin: 0;
                 padding: 0;
                 background: url('../Default Splash/Mai.jpeg') no-repeat center center fixed;
                 background-size: cover;
                 color: white;
                 font-family: Arial, sans-serif;
                 position: relative;
                 overflow: hidden;
             }
             /* Transparent Menu */
             .menu {
             display: flex;
             justify-content: center;
             align-items: center;
             padding: 10px 20px;
             background-color: rgba(0, 0, 0, 0.8);
             z-index: 0;
         }
     
         .menu-items {
             display: flex;
             justify-content: center;
             position: relative;
         }
     
         .menu a {
             color: white;
             text-decoration: none;
             padding: 14px 16px;
             font-family: 'Roboto', sans-serif;
             font-size: 16px;
             transition: background-color 0.3s, transform 0.3s;
         }
     
         .menu a:hover {
             background-color: #111;
             transform: scale(1.1);
         }
     
         .play-button-container {
         display: flex;
         justify-content: flex-start;
         padding: 20px;
         z-index: auto;
         position: fixed;
     }
     
         .play-button {
             background-color: #ffbb00; /* Modern blue color */
             color: white;
             border: none;
             border-radius: 25px; /* Slightly less rounded corners for a modern look */
             font-size: 22px; /* Slightly larger font size */
             font-weight: bold;
             text-decoration: none;
             padding: 15px 40px; /* Increased padding for a more prominent button */
             transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
             box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* More pronounced shadow for a modern effect */
             z-index: 1; /* Ensure it is above other elements */
             top: 5px; /* Adjusted position */
             position: fixed;
             left: 0px;
         }
     
         .play-button:hover {
             background-color: #ff8800;  /* Slightly darker blue on hover */
             transform: scale(1.05); /* Slightly enlarge the button on hover */
             box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4); /* More pronounced shadow on hover */
         }
             .content {
                 display: flex;
                 flex-direction: row;
                 justify-content: space-between;
                 padding: 100px 50px 50px 50px;
             }
             .left-panel {
                 flex: 1;
                 background-color: rgba(0, 0, 0, 0.8);
                 padding: 20px;
                 border-radius: 10px;
                 margin-right: 20px;
                 max-width: 400px;
             }
             .left-panel h1 {
                 font-size: 36px;
                 margin-bottom: 10px;
             }
             .left-panel p {
                 font-size: 14px;
                 margin-bottom: 20px;
                 line-height: 1.6;
             }
             .role {
                 font-size: 24px;
                 font-weight: bold;
                 color: gold;
                 margin-bottom: 20px;
             }
             .bio-button {
                 display: block;
                 margin: 20px auto;
                 padding: 10px 20px;
                 background-color: #007bff;
                 color: white;
                 border: none;
                 border-radius: 5px;
                 cursor: pointer;
                 font-size: 18px;
             }
             .bio-button:hover {
                 background-color: #0056b3;
             }
             .skins-container {
                 display: flex;
                 overflow-x: auto;
                 background-color: rgba(0, 0, 0, 0.8);
                 padding: 20px;
                 border-radius: 10px;
                 position: fixed;
                 bottom: 0;
                 width: 100%;
                 cursor: pointer;
             }
             .skins-container::-webkit-scrollbar {
                 display: none; /* Hide scrollbar */
             }
             .skin-image {
                 width: 300px;
                 height: 169px; /* 16:9 aspect ratio */
                 margin: 10px;
                 border: 2px solid #444;
                 border-radius: 10px;
                 cursor: pointer;
                 transition: transform 0.2s, box-shadow 0.3s;
             }
             .skin-image:hover {
                 transform: scale(1.1);
                 box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.5);
             }
             .lightbox {
                 display: none;
                 position: fixed;
                 top: 0;
                 left: 0;
                 width: 100%;
                 height: 100%;
                 background-color: rgba(0, 0, 0, 0.8);
                 justify-content: center;
                 align-items: center;
                 z-index: 1000;
             }
             .lightbox img {
                 max-width: 90%;
                 max-height: 90%;
                 border-radius: 10px;
             }
             .lightbox .close {
                 position: absolute;
                 top: 20px;
                 right: 20px;
                 font-size: 30px;
                 color: white;
                 cursor: pointer;
             }
             .lightbox .arrow {
                 position: absolute;
                 top: 50%;
                 font-size: 50px;
                 color: white;
                 cursor: pointer;
             }
             .lightbox .arrow.left {
                 left: 20px;
             }
             .lightbox .arrow.right {
                 right: 20px;
             }
             .best-players {
                 background-color: rgba(0, 0, 0, 0.8);
                 padding: 20px;
                 border-radius: 10px;
                 margin-top: 20px;
                 max-width: 400px;
                 text-align: center;
             }
             .best-players h2 {
                 font-size: 24px;
                 color: gold;
                 margin-bottom: 10px;
             }
             .best-players ul {
                 list-style-type: none;
                 padding: 0;
             }
             .best-players li {
                 font-size: 18px;
                 margin-bottom: 10px;
                 display: flex;
                 justify-content: space-between;
             }
             .right-panel {
                 flex: 1;
                 background-color: rgba(0, 0, 0, 0.8);
                 padding: 20px;
                 border-radius: 10px;
                 right: 50px;
                 position: fixed;
                 top: 175px;
             }
             .more-link {
                 color: #007bff;
                 cursor: pointer;
             }
             /* ... existing styles ... */
             .hide-ui-button {
                 position: fixed;
                 top: 75px; /* Adjust based on the menu height */
                 right: 20px;
                 padding: 10px 20px;
                 background-color: #007bff;
                 color: white;
                 border: none;
                 border-radius: 5px;
                 cursor: pointer;
                 z-index: 1001; /* Ensure it's above other content */
             }
             .hide-ui-button:hover {
                 background-color: #0056b3;
             }
             .hidden {
                 display: none;
             }
       </style>
    <script type="module">
        // Initialize Firebase
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js';
        import { getDatabase, ref, get } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js';

        const firebaseConfig = {
            apiKey: "AIzaSyCqhxq6sPDU3EmuvvkBIIDJ-H6PsBc42Jg",
            authDomain: "project-fighters-by-fishb0nes.firebaseapp.com",
            databaseURL: "https://project-fighters-by-fishb0nes-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "project-fighters-by-fishb0nes",
            storageBucket: "project-fighters-by-fishb0nes.appspot.com",
            messagingSenderId: "867339299995",
            appId: "1:867339299995:web:99c379940014b9c05cea3e",
            measurementId: "G-LNEM6HR842"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const database = getDatabase(app);

        async function fetchBestMaiPlayers() {
            const usersRef = ref(database, 'users');
            const snapshot = await get(usersRef);
            const users = snapshot.val();
            const MaiPlayers = [];

            for (const userId in users) {
                const user = users[userId];
                if (user.characters && user.characters['Mai']) {
                    const { win, lose } = user.characters['Mai'];
                    const totalGames = win + lose;
                    if (totalGames >= 15) {
                        const winrate = (win / totalGames) * 100;
                        MaiPlayers.push({ username: user.username, winrate });
                    }
                }
            }

            MaiPlayers.sort((a, b) => b.winrate - a.winrate);
            return MaiPlayers.slice(0, 5);
        }

        async function displayBestMaiPlayers() {
            const bestPlayers = await fetchBestMaiPlayers();
            const bestPlayersList = document.getElementById('best-players-list');
            bestPlayersList.innerHTML = '';

            bestPlayers.forEach(player => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `<span>${player.username}</span><span>${player.winrate.toFixed(2)}%</span>`;
                bestPlayersList.appendChild(listItem);
            });
        }

        window.onload = function() {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    displayBestMaiPlayers();
                }
            });
        };
    </script>
</head>
<body>
    <!-- Menu -->
    <div class="menu">
        <div class="menu-items">
            <a href="../home.html">Home</a>
            <a href="../Store.html">Store</a>
            <a href="../event.html">Event</a>
            <a href="../Team Builder.html">Team Builder</a>
            <a href="../championstats.html">Statistics</a>
        </div>
    </div>

    <div class="play-button-container">
        <a class="play-button" href="../Game Modes.html">Play</a>
    </div>

    <!-- Hide UI Button -->
    <button class="hide-ui-button" onclick="toggleUI()">Hide UI</button>

    <!-- Content -->
    <div class="content">
        <!-- Left Panel -->
        <div class="left-panel">
            <p>
                Mai is a character from the Fatal Fury and King of Fighters series. She is a skilled kunoichi and heir to the Shiranui style of ninjutsu. Known for her agility and mastery of fire-based attacks, Mai combines traditional ninja techniques with her own unique fighting style. Throughout the series, she is depicted as a determined and passionate fighter who is also deeply devoted to Andy Bogard. Despite her playful demeanor, Mai is a formidable warrior who takes her training and responsibilities seriously. more
             <a href="../characters/Mai Page.html" class="bio-button">Check Bio</a></p>
        </div>
    </div>

    <div class="content">
        <!-- Right Panel -->
        <div class="right-panel">
            <div class="best-players">
                <h2>Best Mai Players</h2>
                <ul id="best-players-list"></ul>
            </div>
        </div>
    </div>

    <!-- Skins Container -->
    <div class="skins-container">
        <img class="skin-image" src="../Skins/Winter Festival Mai.jpeg" alt="Winter Festival Mai" onclick="openLightbox(0)"/>
        <img class="skin-image recolor" src="../Skins/Mai Blue.jpeg" alt="Mai Blue" onclick="openLightbox(1)"/>
        <img class="skin-image recolor" src="../Skins/Mai Grey.jpeg" alt="Mai Grey" onclick="openLightbox(2)"/>
        <img class="skin-image recolor" src="../Skins/Mai Light.jpeg" alt="Mai Light" onclick="openLightbox(3)"/>
        <label style="position: absolute; top: 10px; left: 10px; color: white;">
            <input type="checkbox" id="hide-recolors" onclick="toggleRecolors()"/>
            Hide Recolors
        </label>
        <img class="skin-image" src="../Skins/Feather Dancer Mai.jpeg" alt="Feather Dancer Mai" onclick="openLightbox(4)"/>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <span class="close" onclick="closeLightbox()">×</span>
        <span class="arrow left" onclick="prevImage()">❮</span>
        <img id="lightbox-img" src="" alt="Skin Image"/>
        <span class="arrow right" onclick="nextImage()">❯</span>
    </div>

    <script>
        const skins = [
            '../Skins/Winter Festival Mai.jpeg',
            '../Skins/Mai Blue.jpeg',
            '../Skins/Mai Grey.jpeg', 
            '../Skins/Mai Light.jpeg',
            '../Skins/Feather Dancer Mai.jpeg'
        ];
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            document.getElementById('lightbox-img').src = skins[currentIndex];
            document.getElementById('lightbox').style.display = 'flex';
        }

        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
        }

        function prevImage() {
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : skins.length - 1;
            document.getElementById('lightbox-img').src = skins[currentIndex];
        }

        function nextImage() {
            currentIndex = (currentIndex < skins.length - 1) ? currentIndex + 1 : 0;
            document.getElementById('lightbox-img').src = skins[currentIndex];
        }

        function toggleRecolors() {
            const recolorSkins = document.querySelectorAll('.skin-image.recolor');
            const hideRecolors = document.getElementById('hide-recolors').checked;
            recolorSkins.forEach(skin => {
                skin.style.display = hideRecolors ? 'none' : 'block';
            });
        }

        function toggleUI() {
            const elementsToHide = document.querySelectorAll('.menu, .content, .skins-container, .lightbox, .play-button-container');
            const hideUIButton = document.querySelector('.hide-ui-button');
            elementsToHide.forEach(element => {
                element.classList.toggle('hidden');
            });
            hideUIButton.textContent = hideUIButton.textContent === 'Hide UI' ? 'Show UI' : 'Hide UI';
        }

        function hideButton() {
            document.querySelector('.hide-ui-button').classList.add('hidden');
        }

        function showButton() {
            document.querySelector('.hide-ui-button').classList.remove('hidden');
        }

        document.addEventListener('mousemove', () => {
            showButton();
            clearTimeout(mouseTimer);
            mouseTimer = setTimeout(hideButton, 5000);
        });

        let mouseTimer = setTimeout(hideButton, 5000);
    </script>
</body>
</html> 