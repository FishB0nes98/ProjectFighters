<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MOBA Profile Page</title>
  <style>
    body, html {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url('https://YOUR_GITHUB_PAGES_URL/Default Splash/default-background.jpg') no-repeat center center;
      background-size: cover;
    }

    .profile-container {
      width: 90%;
      height: 90%;
      max-width: 1600px;
      max-height: 900px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      padding: 20px;
      color: #fff;
    }

    .profile-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    #profile-icon {
      border-radius: 50%;
      width: 120px;
      height: 120px;
      margin-right: 20px;
      border: 3px solid #ffcc00;
    }

    #username {
      font-size: 2.5em;
      font-weight: bold;
    }

    .skins-container {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }

    .skin-box {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      width: 30%;
    }

    .skin-box label {
      display: block;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    .skin-box select {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #444;
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      font-size: 1em;
    }

    .background-selector {
      margin-top: 20px;
      text-align: left;
    }

    .background-selector label {
      font-size: 1.2em;
    }

    .background-selector select {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #444;
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      font-size: 1em;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="profile-container">
    <div class="profile-header">
      <img id="profile-icon" src="" alt="Profile Icon">
      <h1 id="username"></h1>
    </div>
    <div class="background-selector">
      <label for="background">Background Selector:</label>
      <select id="background" class="background-dropdown"></select>
    </div>
    <div class="skins-container">
      <div class="skin-box">
        <label for="skin1">Profile Skin 1:</label>
        <select id="skin1" class="skin-dropdown"></select>
      </div>
      <div class="skin-box">
        <label for="skin2">Profile Skin 2:</label>
        <select id="skin2" class="skin-dropdown"></select>
      </div>
      <div class="skin-box">
        <label for="skin3">Profile Skin 3:</label>
        <select id="skin3" class="skin-dropdown"></select>
      </div>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <script>
    // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCqhxq6sPDU3EmuvvkBIIDJ-H6PsBc42Jg",
            authDomain: "project-fighters-by-fishb0nes.firebaseapp.com",
            databaseURL: "https://project-fighters-by-fishb0nes-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "project-fighters-by-fishb0nes",
            storageBucket: "project-fighters-by-fishb0nes.appspot.com",
            messagingSenderId: "867339299995",
            appId: "1:867339299995:web:99c379940014b9c05cea3e",
            measurementId: "G-LNEM6HR842"
        };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.addEventListener('DOMContentLoaded', async () => {
      const usernameElement = document.getElementById('username');
      const profileIconElement = document.getElementById('profile-icon');
      const skinDropdowns = document.querySelectorAll('.skin-dropdown');
      const backgroundDropdown = document.getElementById('background');

      // Fetch user data from Firebase
      const userId = "user123"; // Replace with actual user ID
      const userDoc = await db.collection('users').doc(userId).get();
      const userData = userDoc.data();

      // Set username and profile icon
      usernameElement.textContent = userData.username;
      profileIconElement.src = userData.icon;

      // Fetch skins from GitHub Pages
      const skins = await fetchSkins();

      // Populate dropdowns with skins
      populateDropdowns(skinDropdowns, skins);
      populateDropdowns([backgroundDropdown], skins);

      // Set initial values for skins and background
      setInitialValues(skinDropdowns, userData);
      setInitialValue(backgroundDropdown, userData.background);

      // Event listeners for skin dropdowns
      skinDropdowns.forEach((dropdown, index) => {
        dropdown.addEventListener('change', (event) => {
          updateSkin(userId, `profile skin${index + 1}`, event.target.value);
        });
      });

      // Event listener for background dropdown
      backgroundDropdown.addEventListener('change', (event) => {
        updateBackground(userId, event.target.value);
      });
    });

    async function fetchSkins() {
      const response = await fetch('https://YOUR_GITHUB_PAGES_URL/Loading Screen/skins.json');
      const skins = await response.json();
      return skins;
    }

    function populateDropdowns(dropdowns, options) {
      dropdowns.forEach(dropdown => {
        options.forEach(option => {
          const optionElement = document.createElement('option');
          optionElement.value = option;
          optionElement.textContent = option;
          dropdown.appendChild(optionElement);
        });
      });
    }

    function setInitialValues(dropdowns, userData) {
      dropdowns.forEach((dropdown, index) => {
        dropdown.value = userData[`profile skin${index + 1}`];
      });
    }

    function setInitialValue(dropdown, value) {
      dropdown.value = value;
    }

    function updateSkin(userId, skinKey, skinValue) {
      db.collection('users').doc(userId).update({
        [skinKey]: skinValue
      });
    }

    function updateBackground(userId, backgroundValue) {
      db.collection('users').doc(userId).update({
        background: backgroundValue
      });
    }
  </script>
</body>
</html>
