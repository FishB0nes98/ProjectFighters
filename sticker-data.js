// Export the sticker data for use in other files
export const stickers = {
    // New Stickers
    "shao_kahn_smirk": {
        name: "Shao Kahn Smirk",
        image: "Stickers/shao_kahn_smirk.png",
        price: 650,
        category: "special",
        qpPrice: 650
    },
    "talim_too_slow": {
        name: "Talim Too Slow",
        image: "Stickers/talim_too_slow.png",
        price: 350,
        category: "regular"
    },
    "ayane_try_me": {
        name: "Ayane Try Me",
        image: "Stickers/ayane_try_me.png",
        price: 350,
        category: "regular"
    },
    "heart": {
        name: "Heart",
        image: "Stickers/heart.png",
        price: 350,
        category: "regular"
    },
    "cute_kuma_flower": {
        name: "Cute Kuma flower",
        image: "Stickers/cute_kuma_flower.png",
        price: 350,
        category: "regular"
    },
    "ChamCham_Crazy": {
        name: "ChamCham Crazy",
        image: "Stickers/ChamCham_Crazy.png",
        price: 350,
        category: "regular"
    },
    "RMika_Fan": {
        name: "R.Mika Fan",
        image: "Stickers/RMika_Fan.png",
        price: 350,
        category: "regular"
    },
    "Lili_Cute": {
        name: "Lili Cute",
        image: "Stickers/Lili_Cute.png",
        price: 350,
        category: "regular"
    },
    "Juri_Wicked": {
        name: "Juri Wicked",
        image: "Stickers/Juri_Wicked.png",
        price: 350,
        category: "regular"
    },
    // Regular Stickers
    "Nina_Facepalm": {
        name: "Nina Facepalm",
        image: "Stickers/Nina_Facepalm.png",
        price: 350,
        category: "regular"
    },
    "Birdie_Sacred": {
        name: "Birdie Sacred",
        image: "Stickers/Birdie_Sacred.png",
        price: 350,
        category: "regular"
    },
    "Julia_Sacred": {
        name: "Julia Sacred",
        image: "Stickers/Julia_Sacred.png",
        price: 350,
        category: "regular"
    },
    "Shoma_Shy": {
        name: "Shoma Shy",
        image: "Stickers/Shoma_Shy.png",
        price: 350,
        category: "regular"
    },
    "Mega_Man_Cry": {
        name: "Mega Man Cry",
        image: "Stickers/Mega_Man_Cry.png",
        price: 350,
        category: "regular"
    },
    "Jade_Panda_Happy": {
        name: "Jade Panda Happy",
        image: "Stickers/Jade_Panda_Happy.png",
        price: 350,
        category: "regular"
    },
    "Jade_Ayane_Embarassed": {
        name: "Jade Ayane Embarassed",
        image: "Stickers/Jade_Ayane_Embarassed.png",
        price: 350,
        category: "regular"
    },
    "Jackolantern": {
        name: "Jackolantern",
        image: "Stickers/Jackolantern.png",
        price: 350,
        category: "event",
        availability: "halloween"
    },
    "Scorpion": {
        name: "Scorpion",
        image: "Stickers/Scorpion.png",
        price: 350,
        category: "regular"
    },
    "Kuma_Eat": {
        name: "Kuma Eat",
        image: "Stickers/Kuma_Eat.png",
        price: 350,
        category: "regular"
    },
    "Kokoro_Blushing": {
        name: "Kokoro Blushing",
        image: "Stickers/Kokoro_Blushing.png",
        price: 350,
        category: "regular"
    },
    "Nina_Smoke": {
        name: "Nina Smoke",
        image: "Stickers/Nina_Smoke.png",
        price: 350,
        category: "regular"
    },
    "Rainy_Day_Julia": {
        name: "Rainy Day Julia",
        image: "Stickers/Rainy_Day_Julia.png",
        price: 350,
        category: "regular"
    },
    "Reptile_Confused": {
        name: "Reptile Confused",
        image: "Stickers/Reptile_Confused.png",
        price: 350,
        category: "regular"
    },
    "Blanka_Scared": {
        name: "Blanka Scared",
        image: "Stickers/Blanka_Scared.png",
        price: 350,
        category: "regular"
    },
    "ChamCham_V": {
        name: "ChamCham V",
        image: "Stickers/ChamCham_V.png",
        price: 350,
        category: "regular"
    },
    "Ayane_Side_Eye": {
        name: "Ayane Side Eye",
        image: "Stickers/Ayane_Side_Eye.png",
        price: 350,
        category: "regular"
    },
    "Shizumaru_Lmao": {
        name: "Shizumaru Lmao",
        image: "Stickers/Shizumaru_Lmao.png",
        price: 350,
        category: "regular"
    },
    "Rmika_Gum": {
        name: "R.Mika Gum",
        image: "Stickers/Rmika_Gum.png",
        price: 350,
        category: "regular"
    },
    "Birdie_Ate": {
        name: "Birdie Ate",
        image: "Stickers/Birdie_Ate.png",
        price: 350,
        category: "regular"
    },
    "Christie_Heart": {
        name: "Christie Heart",
        image: "Stickers/Christie_Heart.png",
        price: 350,
        category: "regular"
    },
    "Juri_Selfie": {
        name: "Juri Selfie",
        image: "Stickers/Juri_Selfie.png",
        price: 350,
        category: "regular"
    },
    "Shoma_Surprised": {
        name: "Shoma Surprised",
        image: "Stickers/Shoma_Surprised.png",
        price: 350,
        category: "regular"
    },
    "Ayane_Isthisa": {
        name: "Ayane Is this a",
        image: "Stickers/Ayane_Isthisa.png",
        price: 350,
        category: "regular"
    }
};

// Export bundle information
export const starterBundle = {
    name: "Sticker Starter Bundle",
    stickers: [
        "Ayane_Isthisa",
        "Ayane_Side_Eye",
        "Birdie_Ate",
        "Blanka_Scared",
        "ChamCham_V",
        "Christie_Heart",
        "Juri_Selfie",
        "Rmika_Gum",
        "Shizumaru_Lmao",
        "Shoma_Surprised"
    ],
    originalPrice: 3500, // 10 stickers * 350 FM each
    salePrice: 1500,    // Bundle discounted price
    discount: 57        // Percentage discount
};

// Helper functions
export function getStickersByCategory(category) {
    return Object.entries(stickers)
        .filter(([_, sticker]) => sticker.category === category)
        .reduce((acc, [id, sticker]) => {
            acc[id] = sticker;
            return acc;
        }, {});
}

export function getAvailableStickers() {
    return Object.entries(stickers)
        .filter(([_, sticker]) => {
            // If it's a regular sticker or if it's an event sticker that's currently available
            return sticker.category === "regular" || 
                   (sticker.category === "event" && isEventActive(sticker.availability));
        })
        .reduce((acc, [id, sticker]) => {
            acc[id] = sticker;
            return acc;
        }, {});
}

function isEventActive(eventName) {
    const now = new Date();
    switch(eventName) {
        case "halloween":
            // Active during October
            return now.getMonth() === 9;
        // Add more events as needed
        default:
            return false;
    }
}

// Function to check if user owns a sticker
export function doesUserOwnSticker(userStickers, stickerId) {
    return userStickers && userStickers[stickerId] === 1;
}

// Function to get random sticker
export function getRandomSticker(excludeIds = []) {
    const availableStickers = Object.entries(stickers)
        .filter(([id, _]) => !excludeIds.includes(id));
    
    if (availableStickers.length === 0) return null;
    
    const randomIndex = Math.floor(Math.random() * availableStickers.length);
    const [id, sticker] = availableStickers[randomIndex];
    return { id, ...sticker };
} 